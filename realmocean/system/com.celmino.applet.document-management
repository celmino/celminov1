
/*! *****************************************************************************************************************************
* Copyright (c) Tuvalsoft Corporation. All rights reserved.                                                                     *
*                                                                                                                               *
* ████████╗██╗   ██╗██╗   ██╗ █████╗ ██╗         ███████╗██████╗  █████╗ ███╗   ███╗███████╗██╗    ██╗ ██████╗ ██████╗ ██╗  ██╗ *
* ╚══██╔══╝██║   ██║██║   ██║██╔══██╗██║         ██╔════╝██╔══██╗██╔══██╗████╗ ████║██╔════╝██║    ██║██╔═══██╗██╔══██╗██║ ██╔╝ *
*    ██║   ██║   ██║██║   ██║███████║██║         █████╗  ██████╔╝███████║██╔████╔██║█████╗  ██║ █╗ ██║██║   ██║██████╔╝█████╔╝  *
*    ██║   ██║   ██║╚██╗ ██╔╝██╔══██║██║         ██╔══╝  ██╔══██╗██╔══██║██║╚██╔╝██║██╔══╝  ██║███╗██║██║   ██║██╔══██╗██╔═██╗  *
*    ██║   ╚██████╔╝ ╚████╔╝ ██║  ██║███████╗    ██║     ██║  ██║██║  ██║██║ ╚═╝ ██║███████╗╚███╔███╔╝╚██████╔╝██║  ██║██║  ██╗ *
*    ╚═╝    ╚═════╝   ╚═══╝  ╚═╝  ╚═╝╚══════╝    ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝ ╚══╝╚══╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝ *
*                                                                                                                               *
*                                                                                                                               *
* This file is part of Tuval Framework.                                                                                         *
* Copyright (c) Tuvalsoft 2019 All rights reserved.                                                                             *
*                                                                                                                               *
* Licensed under the GNU General Public License v3.0.                                                                           *
* More info at: https://choosealicense.com/licenses/gpl-3.0/                                                                    *
* Tuval Framework Created By Tuvalsoft in 2019   
* Document Applet                                                                                   *
******************************************************************************************************************************@*/
(()=>{var e={88:e=>{self,e.exports=(()=>{var e={669:(e,t,n)=>{e.exports=n(609)},448:(e,t,n)=>{"use strict";var i=n(867),r=n(26),o=n(372),a=n(327),s=n(97),l=n(109),c=n(985),d=n(61),u=n(655),p=n(263);e.exports=function(e){return new Promise((function(t,n){var h,g=e.data,m=e.headers,f=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}i.isFormData(g)&&delete m["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(y+":"+b)}var x=s(e.baseURL,e.url);function I(){if(w){var i="getAllResponseHeaders"in w?l(w.getAllResponseHeaders()):null,o={data:f&&"text"!==f&&"json"!==f?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:i,config:e,request:w};r((function(e){t(e),v()}),(function(e){n(e),v()}),o),w=null}}if(w.open(e.method.toUpperCase(),a(x,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(I)},w.onabort=function(){w&&(n(d("Request aborted",e,"ECONNABORTED",w)),w=null)},w.onerror=function(){n(d("Network Error",e,null,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||u.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",w)),w=null},i.isStandardBrowserEnv()){var S=(e.withCredentials||c(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in w&&i.forEach(m,(function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete m[t]:w.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),f&&"json"!==f&&(w.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){w&&(n(!e||e&&e.type?new p("canceled"):e),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),g||(g=null),w.send(g)}))}},609:(e,t,n)=>{"use strict";var i=n(867),r=n(849),o=n(321),a=n(185),s=function e(t){var n=new o(t),s=r(o.prototype.request,n);return i.extend(s,o.prototype,n),i.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(655));s.Axios=o,s.Cancel=n(263),s.CancelToken=n(972),s.isCancel=n(502),s.VERSION=n(288).version,s.all=function(e){return Promise.all(e)},s.spread=n(713),s.isAxiosError=n(268),e.exports=s,e.exports.default=s},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,n)=>{"use strict";var i=n(263);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var i=n(867),r=n(327),o=n(782),a=n(572),s=n(185),l=n(875),c=l.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(d),o=Promise.resolve(t);u.length;)o=o.then(u.shift(),u.shift());return o}for(var p=t;i.length;){var h=i.shift(),g=i.shift();try{p=h(p)}catch(e){g(e);break}}try{o=a(p)}catch(e){return Promise.reject(e)}for(;d.length;)o=o.then(d.shift(),d.shift());return o},d.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){d.prototype[e]=function(t,n,i){return this.request(s(i||{},{method:e,url:t,data:n}))}})),e.exports=d},782:(e,t,n)=>{"use strict";var i=n(867);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},97:(e,t,n)=>{"use strict";var i=n(793),r=n(303);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},61:(e,t,n)=>{"use strict";var i=n(481);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},572:(e,t,n)=>{"use strict";var i=n(867),r=n(527),o=n(502),a=n(655),s=n(263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},185:(e,t,n)=>{"use strict";var i=n(867);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},26:(e,t,n)=>{"use strict";var i=n(61);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},527:(e,t,n)=>{"use strict";var i=n(867),r=n(655);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},655:(e,t,n)=>{"use strict";var i=n(867),r=n(16),o=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(448)),l),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(a)})),e.exports=c},288:e=>{e.exports={version:"0.26.0"}},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},327:(e,t,n)=>{"use strict";var i=n(867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,n)=>{"use strict";var i=n(867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},268:(e,t,n)=>{"use strict";var i=n(867);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},985:(e,t,n)=>{"use strict";var i=n(867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16:(e,t,n)=>{"use strict";var i=n(867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},109:(e,t,n)=>{"use strict";var i=n(867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},875:(e,t,n)=>{"use strict";var i=n(288).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!o[i]&&(o[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},867:(e,t,n)=>{"use strict";var i=n(849),r=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===r.call(e)}function l(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===r.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:d,isStream:function(e){return l(e)&&d(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===r.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,i){c(t[i])&&c(n)?t[i]=e(t[i],n):c(n)?t[i]=e({},n):o(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)u(arguments[i],n);return t},extend:function(e,t,n){return u(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(81),r=n.n(i),o=n(645),a=n.n(o)()(r());a.push([e.id,".cdx-loader {\n  border: none;\n  margin: auto;\n}\n\n.inline-image .cdx-loader {\n  min-height: 200px;\n}\n\n.inline-image .cdx-input {\n  margin-top: 10px;\n}\n\n.inline-image img {\n  max-width: 100%;\n  vertical-align: bottom;\n}\n\n.inline-image__caption[contentEditable=true][data-placeholder]:empty::before {\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n }\n\n.inline-image__caption[contentEditable=true][data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.inline-image__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.inline-image__picture--withBackground {\n  background: #eff2f5;\n  padding: 10px;\n  text-align: center;\n}\n\n.inline-image__picture--withBackground img {\n  max-width: 60%;\n  margin: 0 auto;\n}\n\n\n.inline-image__picture--withBorder {\n  border: 1px solid #e8e8eb;\n  padding: 1px;\n}\n\n.inline-image__picture--stretched img {\n  max-width: none;\n  width: 100%;\n}\n\n.inline-image__tab-wrapper {\n  display: flex;\n  margin-bottom: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: lightgray;\n}\n\n.inline-image__tab {\n  padding: 5px;\n  cursor: pointer;\n}\n\n.inline-image__tab:hover {\n  background: #eff2f5;\n}\n\n.inline-image__tab.active {\n  border-width: 0 0 3px 0;\n  border-style: solid;\n  border-color: #388ae5;\n}\n\n.inline-image__embed-button {\n  width: 50%;\n  background-color: #388ae5;\n  color: white;\n  text-align: center;\n  margin: auto;\n  cursor: pointer;\n}\n\n.inline-image__embed-button:hover {\n  opacity: 0.9;\n}\n\n.inline-image__control-panel {\n  padding: 10px;\n  border-radius: 4px;\n  box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px,\n    rgba(15, 15, 15, 0.1) 0px 3px 6px,\n    rgba(15, 15, 15, 0.2) 0px 9px 24px;\n}\n\n.inline-image__image-gallery {\n  max-height: 400px;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  background: white;\n  margin: 5px;\n}\n\n.inline-image__img-wrapper {\n    width: 25%;\n}\n\n.inline-image__thumb {\n  display: block;\n  object-fit: cover;\n  border-radius: 10px;\n  width: 90%;\n  height: 105px;\n  padding: 5px;\n  object-position: center 0%;\n  cursor: pointer;\n}\n\n.inline-image__image-credits {\n  font-size: 12px;\n  text-align: center;\n  margin-bottom: 5px;\n  color: gray;\n}\n\n.inline-image__image-credits a {\n  color: gray;\n}\n\n.inline-image__search {\n  margin: 10px;\n  width: 96%;\n}\n\n.inline-image__no-results{\n  width: 100%;\n  text-align: center;\n  margin: 20px;\n}\n\n.panel-hidden {\n  display: none;\n}\n\n.panel-scroll {\n  overflow-y: scroll;\n}\n\n.modal {\n  z-index: 1;\n  position: fixed;\n  display: none;\n  inset: 0;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  background-color: rgba(0,0,0,0.8);\n}\n\n.modal-content {\n  position: relative;\n  margin: 0;\n}\n\n.modal-img {\n  object-fit: cover;\n  max-width:100%;\n  max-height:100%;\n}\n\n.close {\n  color: #aaaaaa;\n  font-size: 28px;\n  font-weight: bold;\n  position: absolute;\n  right: 10px;\n}\n\n.close:hover,\n.close:focus {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n}\n",""]);const s=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},459:(e,t)=>{"use strict";function n(e){return function(t,n,i,r){var o=i/r,a=t/n,s=t,l=n;return(e?o>a:o<a)?l=s/o:s=l*o,{width:s,height:l,x:(t-s)/2,y:(n-l)/2}}}var i=n(!0);n(!1),t.XS=i},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=i.base?l[0]+i.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var p=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var g=r(h,i);i.byIndex=s,t.splice(s,0,{identifier:u,updater:g,references:1})}a.push(u)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=i(e,r),c=0;c<o.length;c++){var d=n(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},330:e=>{e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},98:e=>{e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},586:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 24" width="20" height="20"><path d="M19,2H5A3,3,0,0,0,2,5V19a3,3,0,0,0,3,3H19a2.81,2.81,0,0,0,.49-.05l.3-.07.07,0h0l.05,0,.37-.14.13-.07c.1-.06.21-.11.31-.18a3.79,3.79,0,0,0,.38-.32l.07-.09a2.69,2.69,0,0,0,.27-.32l.09-.13a2.31,2.31,0,0,0,.18-.35,1,1,0,0,0,.07-.15c.05-.12.08-.25.12-.38l0-.15A2.6,2.6,0,0,0,22,19V5A3,3,0,0,0,19,2ZM5,20a1,1,0,0,1-1-1V14.69l3.29-3.3h0a1,1,0,0,1,1.42,0L17.31,20Zm15-1a1,1,0,0,1-.07.36,1,1,0,0,1-.08.14.94.94,0,0,1-.09.12l-5.35-5.35.88-.88a1,1,0,0,1,1.42,0h0L20,16.69Zm0-5.14L18.12,12a3.08,3.08,0,0,0-4.24,0l-.88.88L10.12,10a3.08,3.08,0,0,0-4.24,0L4,11.86V5A1,1,0,0,1,5,4H19a1,1,0,0,1,1,1ZM13.5,6A1.5,1.5,0,1,0,15,7.5,1.5,1.5,0,0,0,13.5,6Z"></path></svg>'}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";n.d(i,{default:()=>z});var e=n(379),t=n.n(e),r=n(795),o=n.n(r),a=n(569),s=n.n(a),l=n(565),c=n.n(l),d=n(216),u=n.n(d),p=n(589),h=n.n(p),g=n(424),m={};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}m.styleTagTransform=h(),m.setAttributes=c(),m.insert=s().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=u(),t()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var v=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);return Array.isArray(n)?(t=r.classList).add.apply(t,function(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n)):n&&r.classList.add(n),Object.keys(i).forEach((function(e){r[e]=i[e]})),r},w=function(e){var t=e.appName,n=e.author,i=e.profileLink,r=v("div","inline-image__image-credits"),o=v("div",null,{innerHTML:"by ",style:"display: inline;"}),a=v("a","",{href:"".concat(i,"?utm_source=").concat(t,"&utm_medium=referral"),innerHTML:n,target:"_blank"}),s=v("div",null,{innerHTML:" on ",style:"display: inline;"}),l=v("a","",{href:"https://unsplash.com/?utm_source=".concat(t,"&utm_medium=referral"),innerHTML:"Unsplash",target:"_blank"});return r.appendChild(o),r.appendChild(a),r.appendChild(s),r.appendChild(l),r};var y=function(){function e(t){var n=t.cssClasses,i=t.settings,r=t.onTuneToggled;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cssClasses=n,this.onTuneToggled=r,this.settings=i,this.buttons=[]}var t,n;return t=e,(n=[{key:"render",value:function(e){var t=this,n=v("div");return this.buttons=[],this.settings.forEach((function(i){var r=v("div",null,{innerHTML:i.icon,onclick:function(){return t.tuneClicked(i.name)}});r.classList.add(t.cssClasses.settingsButton),r.dataset.tune=i.name,r.classList.toggle(t.cssClasses.settingsButtonActive,e[i.name]),t.buttons.push(r),n.appendChild(r)})),n}},{key:"tuneClicked",value:function(e){var t=this.buttons.find((function(t){return t.dataset.tune===e}));t.classList.toggle(this.cssClasses.settingsButtonActive,!t.classList.contains(this.cssClasses.settingsButtonActive)),this.onTuneToggled(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),b=n(669),x=n.n(b);var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiUrl=t&&t.apiUrl?t.apiUrl:"https://api.unsplash.com",this.clientId=t&&t.clientId?t.clientId:"",this.perPage=t&&t.maxResults?t.maxResults:30}var t,n;return t=e,(n=[{key:"searchImages",value:function(e,t){var n=this;x().get("".concat(this.apiUrl,"/search/photos"),{params:{client_id:this.clientId,query:e,per_page:this.perPage}}).then((function(e){return t(n.parseResponse(e.data))})).catch((function(){return t([])}))}},{key:"parseResponse",value:function(e){var t=this;return e.results.map((function(e){return t.buildImageObject(e)}))}},{key:"buildImageObject",value:function(e){return{url:e.urls.full,thumb:e.urls.thumb,downloadLocation:e.links.download_location,author:e.user.name,profileLink:e.user.links.html}}},{key:"downloadImage",value:function(e){x().get(e,{params:{client_id:this.clientId}}).catch((function(e){return console.log(e)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(){function e(t){var n=t.api,i=t.config,r=t.cssClasses,o=t.onSelectImage,a=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=n,this.config=i,this.readOnly=a,this.cssClasses=C(C({},r),{},{controlPanel:"inline-image__control-panel",tabWrapper:"inline-image__tab-wrapper",tab:"inline-image__tab",embedButton:"inline-image__embed-button",search:"inline-image__search",imageGallery:"inline-image__image-gallery",noResults:"inline-image__no-results",imgWrapper:"inline-image__img-wrapper",thumb:"inline-image__thumb",active:"active",hidden:"panel-hidden",scroll:"panel-scroll"}),this.onSelectImage=o,this.nodes={loader:null,embedUrlTab:null,unsplashTab:null,embedUrlPanel:null,unsplashPanel:null,imageGallery:null,searchInput:null},this.unsplashClient=new I(this.config.unsplash),this.searchTimeout=null,this.showEmbedTab=!this.config.embed||this.config.embed.display}var t,n;return t=e,(n=[{key:"render",value:function(){var e=this,t=v("div",this.cssClasses.controlPanel),n=v("div",this.cssClasses.tabWrapper),i=v("div",[this.cssClasses.tab,this.cssClasses.active],{innerHTML:"Embed URL",onclick:function(){return e.showEmbedUrlPanel()}}),r=v("div",[this.cssClasses.tab,this.showEmbedTab?null:this.cssClasses.active],{innerHTML:"Unsplash",onclick:function(){return e.showUnsplashPanel()}}),o=this.renderEmbedUrlPanel(),a=this.renderUnsplashPanel();return this.showEmbedTab&&n.appendChild(i),n.appendChild(r),t.appendChild(n),this.showEmbedTab&&t.appendChild(o),t.appendChild(a),this.nodes.embedUrlPanel=this.showEmbedTab?o:null,this.nodes.unsplashPanel=a,this.nodes.embedUrlTab=this.showEmbedTab?i:null,this.nodes.unsplashTab=r,t}},{key:"showEmbedUrlPanel",value:function(){this.nodes.embedUrlTab.classList.add(this.cssClasses.active),this.nodes.unsplashTab.classList.remove(this.cssClasses.active),this.nodes.embedUrlPanel.classList.remove(this.cssClasses.hidden),this.nodes.unsplashPanel.classList.add(this.cssClasses.hidden)}},{key:"showUnsplashPanel",value:function(){this.nodes.unsplashTab.classList.add(this.cssClasses.active),this.nodes.embedUrlTab.classList.remove(this.cssClasses.active),this.nodes.unsplashPanel.classList.remove(this.cssClasses.hidden),this.nodes.embedUrlPanel.classList.add(this.cssClasses.hidden)}},{key:"renderEmbedUrlPanel",value:function(){var e=this,t=v("div"),n=v("div",[this.cssClasses.input,this.cssClasses.caption],{id:"image-url",contentEditable:!this.readOnly}),i=v("div",[this.cssClasses.embedButton,this.cssClasses.input],{id:"embed-button",innerHTML:"Embed Image",onclick:function(){return e.embedButtonClicked(n.innerHTML)}});return n.dataset.placeholder="Enter image url...",t.appendChild(n),t.appendChild(i),t}},{key:"embedButtonClicked",value:function(e){/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g.test(e)?this.onSelectImage({url:e}):this.api.notifier.show({message:"Please enter a valid url.",style:"error"})}},{key:"renderUnsplashPanel",value:function(){var e=this,t=v("div",this.showEmbedTab?this.cssClasses.hidden:null),n=v("div",this.cssClasses.imageGallery),i=v("div",[this.cssClasses.input,this.cssClasses.caption,this.cssClasses.search],{id:"unsplash-search",contentEditable:!this.readOnly,oninput:function(){return e.searchInputHandler()}});return i.dataset.placeholder="Search for an image...",t.appendChild(i),t.appendChild(n),this.nodes.searchInput=i,this.nodes.imageGallery=n,t}},{key:"searchInputHandler",value:function(){this.showLoader(),this.performSearch()}},{key:"showLoader",value:function(){this.nodes.imageGallery.innerHTML="",this.nodes.loader=v("div",this.cssClasses.loading),this.nodes.imageGallery.appendChild(this.nodes.loader)}},{key:"performSearch",value:function(){var e=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){var t=e.nodes.searchInput.innerHTML;e.unsplashClient.searchImages(t,(function(t){return e.appendImagesToGallery(t)}))}),1e3)}},{key:"appendImagesToGallery",value:function(e){var t=this;if(this.nodes.imageGallery.innerHTML="",e&&e.length)this.nodes.unsplashPanel.classList.add(this.cssClasses.scroll),e.forEach((function(e){t.createThumbImage(e)}));else{var n=v("div",this.cssClasses.noResults,{innerHTML:"No images found"});this.nodes.imageGallery.appendChild(n),this.nodes.unsplashPanel.classList.remove(this.cssClasses.scroll)}}},{key:"createThumbImage",value:function(e){var t=this,n=v("div",this.cssClasses.imgWrapper),i=v("img",this.cssClasses.thumb,{src:e.thumb,onclick:function(){return t.downloadUnsplashImage(e)}}),r=this.config.unsplash.appName,o=w(C(C({},e),{},{appName:r}));n.appendChild(i),n.appendChild(o),this.nodes.imageGallery.append(n)}},{key:"downloadUnsplashImage",value:function(e){var t=e.url,n=e.author,i=e.profileLink,r=e.downloadLocation;this.onSelectImage({url:t,unsplash:{author:n,profileLink:i}}),this.unsplashClient.downloadImage(r)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),E=n(330),D=n.n(E),j=n(98),M=n.n(j),O=n(586),T=n.n(O),_=n(459);var A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalHolder=document.getElementById("inline-image__modal"),this.modalHolder||(this.createModal(),this.closeOutside())}var t,n;return t=e,(n=[{key:"createModal",value:function(){var e=this,t=v("div","modal",{id:"inline-image__modal"}),n=v("div","modal-content",{id:"inline-image__modal-content"}),i=v("span","close",{id:"inline-image__modal-close",innerHTML:"&times;",onclick:function(){e.close()}}),r=v("img","modal-img",{id:"inline-image__modal-img",alt:"image"});t.appendChild(n),n.appendChild(i),n.appendChild(r),document.body.appendChild(t)}},{key:"open",value:function(e){this.setImage(e),document.getElementById("inline-image__modal").style.display="flex"}},{key:"setImage",value:function(e){var t=document.getElementById("inline-image__modal-img");t.src=e;var n=document.getElementById("inline-image__modal-content"),i=screen.width-200,r=screen.height-200,o=(0,_.XS)(i,r,t.width,t.height),a=o.width,s=o.height;n.style.maxHeight="".concat(s,"px"),n.style.maxWidth="".concat(a,"px")}},{key:"close",value:function(){document.getElementById("inline-image__modal").style.display="none"}},{key:"closeOutside",value:function(){var e=this;document.addEventListener("click",(function(t){"inline-image__modal"===t.target.id&&e.close()}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(){function e(t){var n=this,i=t.api,r=t.config,o=t.readOnly,a=t.onAddImageData,s=t.onTuneToggled;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this.config=r,this.readOnly=o,this.onAddImageData=a,this.onTuneToggled=s,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,wrapper:"inline-image",imageHolder:"inline-image__picture",caption:"inline-image__caption"},this.settings=[{name:"withBorder",icon:M()},{name:"stretched",icon:T()},{name:"withBackground",icon:D()}],this.controlPanel=new L({api:i,config:r,readOnly:o,cssClasses:this.CSS,onSelectImage:function(e){return n.selectImage(e)}}),this.tunes=new y({cssClasses:{settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},settings:this.settings,onTuneToggled:s}),this.nodes={wrapper:null,loader:null,imageHolder:null,image:null,caption:null,credits:null},this.modal=new A}var t,n;return t=e,(n=[{key:"render",value:function(e){var t=this,n=v("div",[this.CSS.baseClass,this.CSS.wrapper]),i=v("div",this.CSS.loading),r=v("img","",{onload:function(){return t.onImageLoad()},onerror:function(){return t.onImageLoadError()}}),o=v("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:e.caption||""});if(this.nodes.imageHolder=v("div",this.CSS.imageHolder),o.dataset.placeholder="Enter a caption",e.url)n.appendChild(i),r.src=e.url,this.buildImageCredits(e);else{var a=this.controlPanel.render();this.nodes.controlPanelWrapper=a,n.appendChild(a)}return this.nodes.wrapper=n,this.nodes.loader=i,this.nodes.image=r,this.nodes.caption=o,this.applySettings(e),this.setEvents(),n}},{key:"buildImageCredits",value:function(e){var t=e.unsplash;if(t&&t.author&&t.profileLink){var n=this.config.unsplash.appName,i=w(H(H({},t),{},{appName:n}));this.nodes.imageHolder.appendChild(i),this.nodes.credits=i}}},{key:"onImageLoad",value:function(){this.nodes.imageHolder.prepend(this.nodes.image),this.nodes.wrapper.appendChild(this.nodes.imageHolder),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.loader.remove()}},{key:"onImageLoadError",value:function(){this.removeCurrentBlock(),this.api.notifier.show({message:"Can not load the image, try again!",style:"error"})}},{key:"removeCurrentBlock",value:function(){var e=this;Promise.resolve().then((function(){var t=e.api.blocks.getCurrentBlockIndex();e.api.blocks.delete(t)})).catch((function(e){console.error(e)}))}},{key:"renderSettings",value:function(e){return this.tunes.render(e)}},{key:"showLoader",value:function(){this.nodes.controlPanelWrapper.remove(),this.nodes.wrapper.appendChild(this.nodes.loader)}},{key:"selectImage",value:function(e){this.onAddImageData(e),this.showLoader(),this.buildImageCredits(e)}},{key:"applyTune",value:function(e,t){var n=this;this.nodes.imageHolder.classList.toggle("".concat(this.CSS.imageHolder,"--").concat(e),t),"stretched"===e&&Promise.resolve().then((function(){var e=n.api.blocks.getCurrentBlockIndex();n.api.blocks.stretchBlock(e,t)})).catch((function(e){console.error(e)}))}},{key:"applySettings",value:function(e){var t=this;this.settings.forEach((function(n){t.applyTune(n.name,e[n.name])}))}},{key:"setEvents",value:function(){var e=this;this.nodes.image.addEventListener("click",(function(){e.modal.open(e.nodes.image.src)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var z=function(){function e(t){var n=this,i=t.data,r=t.api,o=t.config,a=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=a,this.ui=new U({data:i,api:r,config:o,readOnly:a,onAddImageData:function(e){return n.addImageData(e)},onTuneToggled:function(e){return n.tuneToggled(e)}}),this.data={url:i.url||"",caption:i.caption||"",withBorder:void 0!==i.withBorder&&i.withBorder,withBackground:void 0!==i.withBackground&&i.withBackground,stretched:void 0!==i.stretched&&i.stretched,unsplash:i.unsplash}}var t,n,i;return t=e,i=[{key:"toolbox",get:function(){return{title:"InlineImage",icon:T()}}},{key:"sanitize",get:function(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}},{key:"pasteConfig",get:function(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},tags:["img"],files:{mimeTypes:["image/*"]}}}},{key:"isReadOnlySupported",get:function(){return!0}}],(n=[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"save",value:function(){var e=this.ui.nodes.caption;return this.data.caption=e.innerHTML,this.data}},{key:"validate",value:function(e){return!!e.url.trim()}},{key:"onDropHandler",value:function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(n){t.onload=function(t){n({url:t.target.result,caption:e.name})}}))}},{key:"onPaste",value:function(e){var t=this;switch(this.ui.showLoader(),e.type){case"tag":this.data={url:e.detail.data.src};break;case"pattern":this.data={url:e.detail.data};break;case"file":this.onDropHandler(e.detail.file).then((function(e){t.data=e}))}}},{key:"addImageData",value:function(e){this.data=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=R(R({},this.data),e),this.ui.nodes.image&&(this.ui.nodes.image.src=this.data.url),this.ui.nodes.caption&&(this.ui.nodes.caption.innerHTML=this.data.caption)}},{key:"renderSettings",value:function(){return this.ui.renderSettings(this.data)}},{key:"tuneToggled",value:function(e){var t=!this.data[e];this.data=V({},e,t),this.ui.applyTune(e,t)}}])&&F(t.prototype,n),i&&F(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()})(),i.default})()},751:function(e,t,n){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},a=n(99),s=[];e.exports=function(e,t,n){var l,c;void 0===n&&(n=0);try{for(var d=i(s),u=d.next();!u.done;u=d.next()){var p=u.value;if(a(t,p.inputs)){if(Object.prototype.hasOwnProperty.call(p,"error"))throw p.error;if(Object.prototype.hasOwnProperty.call(p,"response"))return p.response;throw p.promise}}}catch(e){l={error:e}}finally{try{u&&!u.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}var h={promise:e.apply(void 0,o([],r(t),!1)).then((function(e){h.response=e})).catch((function(e){h.error=e})).then((function(){n>0&&setTimeout((function(){var e=s.indexOf(h);-1!==e&&s.splice(e,1)}),n)})),inputs:t};throw s.push(h),h.promise}},99:e=>{"use strict";var t=Array.isArray,n=Object.keys,i=Object.prototype.hasOwnProperty;e.exports=function e(r,o){if(r===o)return!0;if(r&&o&&"object"==typeof r&&"object"==typeof o){var a,s,l,c=t(r),d=t(o);if(c&&d){if((s=r.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(r[a],o[a]))return!1;return!0}if(c!=d)return!1;var u=r instanceof Date,p=o instanceof Date;if(u!=p)return!1;if(u&&p)return r.getTime()==o.getTime();var h=r instanceof RegExp,g=o instanceof RegExp;if(h!=g)return!1;if(h&&g)return r.toString()==o.toString();var m=n(r);if((s=m.length)!==n(o).length)return!1;for(a=s;0!=a--;)if(!i.call(o,m[a]))return!1;for(a=s;0!=a--;)if(!e(r[l=m[a]],o[l]))return!1;return!0}return r!=r&&o!=o}},906:e=>{e.exports={application:{name:"com.celmino.applet.document-management",path:"./src/Application.ts",displayName:"Procetra",icon:"data:image/svg+xml;base64,PHN2ZyBpZD0iZjc4ZjUxMTUtYmU4OC00ZDQ0LWIzNGUtM2Y2ZWE3NDMxMjVjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImI2YzQzYmQ5LWUzN2YtNDE5MS05M2MyLWQzYTdhODRjNTA1ZSIgeDE9IjkiIHkxPSIxOS4xMyIgeDI9IjkiIHkyPSItMC4yOSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAwNzhkNCIgLz48c3RvcCBvZmZzZXQ9IjAuMTYiIHN0b3AtY29sb3I9IiMxMzgwZGEiIC8+PHN0b3Agb2Zmc2V0PSIwLjUzIiBzdG9wLWNvbG9yPSIjM2M5MWU1IiAvPjxzdG9wIG9mZnNldD0iMC44MiIgc3RvcC1jb2xvcj0iIzU1OWNlYyIgLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1ZWEwZWYiIC8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHRpdGxlPkljb24tbWFjaGluZWxlYXJuaW5nLTE2MjwvdGl0bGU+PHBhdGggZD0iTTE4LDExLjM4QTQsNCwwLDAsMCwxNC40OSw3LjUsNS4xLDUuMSwwLDAsMCw5LjI0LDIuNjIsNS4yNSw1LjI1LDAsMCwwLDQuMjIsNiw0LjgsNC44LDAsMCwwLDAsMTAuNjdhNC45LDQuOSwwLDAsMCw1LjA3LDQuNzFsLjQ0LDBoOC4yMWEuNzguNzgsMCwwLDAsLjIyLDBBNC4xLDQuMSwwLDAsMCwxOCwxMS4zOFoiIGZpbGw9InVybCgjYjZjNDNiZDktZTM3Zi00MTkxLTkzYzItZDNhN2E4NGM1MDVlKSIgLz48cGF0aCBkPSJNNS40MiwxMC4zOUg0LjU0YTEuMDksMS4wOSwwLDEsMCwwLC40OWguODhhLjIuMiwwLDAsMSwuMi4ydjQuM2guNDl2LTQuM0EuNjkuNjksMCwwLDAsNS40MiwxMC4zOVptLTEuOTUuODhhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDMuNDcsMTEuMjdaIiBmaWxsPSIjOWNlYmZmIiAvPjxwYXRoIGQ9Ik04Ljk0LDEwLjYxdi0xYS43LjcsMCwwLDAtLjctLjdINi42OWEuMi4yLDAsMCwxLS4yLS4yVjMuNGwtLjIzLjEyTDYsMy42NnY1YS42OS42OSwwLDAsMCwuNjkuNjlIOC4yNGEuMjEuMjEsMCwwLDEsLjIxLjIxdjFhMS4wOCwxLjA4LDAsMCwwLS44NSwxLjA2LDEuMDksMS4wOSwwLDEsMCwxLjM0LTEuMDZabS0uMjUsMS43aDBhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDguNjksMTIuMzFaIiBmaWxsPSIjZjJmMmYyIiAvPjxwYXRoIGQ9Ik0xNC41Myw4LjVhMS4wOSwxLjA5LDAsMCwwLS4yNSwyLjE1di4yYS4yMS4yMSwwLDAsMS0uMjEuMjFoLTJWNy41NGEuNjkuNjksMCwwLDAtLjY5LS42OUgxMC4zNUExLjA4LDEuMDgsMCwwLDAsOS4yOSw2YTEuMDksMS4wOSwwLDEsMCwxLjA2LDEuMzRoMS4wN2EuMi4yLDAsMCwxLC4yLjJ2Ny44NGguNDlWMTEuNTVoMmEuNy43LDAsMCwwLC43LS43di0uMmExLjA5LDEuMDksMCwwLDAsLjg1LTEuMDZoMEExLjA5LDEuMDksMCwwLDAsMTQuNTMsOC41Wk05LjI5LDcuNzNoMGEuNjQuNjQsMCwxLDEsLjY0LS42NEEuNjQuNjQsMCwwLDEsOS4yOSw3LjczWm01LjI0LDIuNWgwYS42NC42NCwwLDEsMSwuNjMtLjY0QS42NC42NCwwLDAsMSwxNC41MywxMC4yM1oiIGZpbGw9IiM5Y2ViZmYiIC8+PC9zdmc+"}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=celmino$ui,t=tuval$forms,i=realmocean$sdk,r=tuval$core,o=realmocean$atlaskit,a=(e,n)=>(0,t.UIViewBuilder)((()=>{const{label:a,successAction:s,successActions:l}=n,c=((0,t.useFormController)(),(0,t.useDialog)());(0,t.useFormBuilder)(),(0,t.useNavigate)();const{workspaceId:d,appletId:u}=e,{createDocument:p}=(0,i.useCreateDocument)(d,"workspace","ws_tree"),{createDocument:h,isLoading:g}=(0,i.useCreateDocument)(d,u,"folders"),m=(0,o.useFormState)({values:!0,errors:!0});return(0,o.LoadingButton)().appearance("primary").label("Save").onClick((()=>{h({data:Object.assign({},m.values)},(e=>{p({documentId:e.$id,data:{name:m.values.name,type:"folder",parent:m.values.parent,tree_widget:"com.celmino.applet.document-management",appletId:u,path:(new Date).getTime().toString(),iconName:"cu3-icon-sidebarFolder",iconCategory:"SvgIcons"}},(e=>{r.EventBus.Default.fire("applet.added",{treeItem:e}),c.Hide()}))}))}))}));a.Id=(0,t.nanoid)();const s=(e,n)=>(0,t.UIViewBuilder)((()=>{const{label:a,successAction:s,successActions:l}=n,c=((0,t.useFormController)(),(0,t.useDialog)());(0,t.useFormBuilder)(),(0,t.useNavigate)();const{workspaceId:d,appletId:u}=e,{createDocument:p}=(0,i.useCreateDocument)(d,"workspace","ws_tree"),{createDocument:h,isLoading:g}=(0,i.useCreateDocument)(d,u,"documents"),{createDocument:m}=(0,i.useCreateDocument)(d,u,"documentContent"),f=(0,o.useFormState)({values:!0,errors:!0});return(0,o.LoadingButton)().appearance("primary").label("Save").onClick((()=>{var e;const t=null!==(e=null==f?void 0:f.values)&&void 0!==e?e:{};h({data:Object.assign({},t)},(e=>{m({documentId:e.$id,data:{content:""}},(e=>{p({documentId:e.$id,data:{name:t.name,type:"document",parent:t.parent,tree_widget:"com.celmino.applet.document-management",appletId:u,path:(new Date).getTime().toString(),iconName:"document",iconCategory:"SystemIcons"}},(e=>{r.EventBus.Default.fire("applet.added",{treeItem:e}),c.Hide()}))}))}))}))}));s.Id=(0,t.nanoid)();const l=(e,t,n,i,r="document",o="com.tuvalsoft.widget.editorjs")=>{if(null!=e)return{title:"Create document",workspaceId:e,appletId:t,actions:[{label:"Save",type:s.Id}],fieldMap:{list_name:{label:"name",type:"text",name:"name"},type:{name:"type",type:"virtual",value:r},parent:{name:"parent",type:"virtual",value:n},path:{name:"path",type:"virtual",value:i},viewer:{name:"viewer",type:"virtual",value:o}}};alert("spaceId is null")};class c extends t.UIController{LoadView(){const[n,o]=(0,t.useState)(!1),{item:c,onItemSelected:d}=this.props.config||{},{isAnonymous:u}=(0,e.useAccount)(),{realm:p}=(0,e.useRealm)(),{applet:h}=(0,e.useApplet)(),g=p.$id,m=h.$id,{navigate:f}=(0,e.useAppletNavigate)(),{updateDocument:v}=(0,i.useUpdateDocument)(g),{deleteApplet:w}=(0,e.useDeleteApplet)();return(0,t.UIWidget)("com.celmino.widget.applet-tree").config({node:c,workspaceId:g,appletId:c.appletId,appletName:c.name,iconName:c.iconName,iconCategory:c.iconCategory,isEditing:n,editingChanged:e=>{c.canDrag=!e,o(e)},titleChanged:e=>{v({databaseId:"workspace",collectionId:"applets",documentId:m,data:{name:e}},(()=>{v({databaseId:"workspace",collectionId:"ws_tree",documentId:c.$id,data:{name:e}},(()=>{r.EventBus.Default.fire("applet.added",{treeItem:c})}))}))},subNodes:(e,t,n,i,r,o)=>[],requestMenu:n=>u?[]:((n,i,r="-1",o="/")=>[{title:"Folder",icon:(0,t.SvgIcon)("cu3-icon-sidebarFolderOpen","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(((e,t,n,i)=>{if(null!=e)return{title:"Create folder",workspaceId:e,appletId:t,actions:[{label:"Save",type:a.Id}],fieldMap:{folder_name:{label:"Name",type:"text",name:"name"},parent:{name:"parent",type:"virtual",value:n}}};alert("spaceId is null")})(n,i,r))},{title:"Document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,i,r,o,"document","com.tuvalsoft.widget.blocknote"))},{title:"Markdown Document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(((e,t,n,i,r="document")=>{if(null!=e)return{title:"Create document",workspaceId:e,appletId:t,actions:[{label:"Save",type:s.Id}],fieldMap:{list_name:{label:"name",type:"text",name:"name"},type:{name:"type",type:"virtual",value:r},parent:{name:"parent",type:"virtual",value:n},path:{name:"path",type:"virtual",value:i},viewer:{name:"viewer",type:"virtual",value:"com.tuvalsoft.widget.markdown"}}};alert("spaceId is null")})(n,i,r,o,"document"))},{title:"Whiteboard Document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(((e,t,n,i,r="document")=>{if(null!=e)return{title:"Create document",workspaceId:e,appletId:t,actions:[{label:"Save",type:s.Id}],fieldMap:{list_name:{label:"name",type:"text",name:"name"},type:{name:"type",type:"virtual",value:r},parent:{name:"parent",type:"virtual",value:n},path:{name:"path",type:"virtual",value:i},viewer:{name:"viewer",type:"virtual",value:"com.tuvalsoft.widget.whiteboard"}}};alert("spaceId is null")})(n,i,r,o,"document"))},{title:"Wiki document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,i,r,o,"wiki"))},{title:"Word document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,i,r,o,"word"))},{title:"Spreadsheet",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,i,r,o,"document","com.tuvalsoft.widget.spreadsheet"))},{title:"Google sheets",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,i,r,o,"com.tuvalsoft.widget.google-sheets-embedded"))},{title:"Google sheets",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,i,r,o,"com.tuvalsoft.widget.google-sheets-embedded"))},{type:"Divider"},{title:"More Applets",icon:(0,t.SvgIcon)("svg-sprite-activity-template-merged")}])(g,n.appletId,n.$id),requestEditMenu:e=>u?[]:[{title:"Rename "+c.name,icon:(0,t.SvgIcon)("svg-sprite-global__edit","#151719","18px","18px"),onClick:()=>o(!0)},{title:"Applet settings",icon:(0,t.SvgIcon)("svg-sprite-global__settings","#151719","18px","18px"),onClick:()=>f("settings/general")},{title:"Applet settings",icon:(0,t.SvgIcon)("svg-sprite-global__settings","#151719","18px","18px"),onClick:()=>{i.Services.Databases.listCollections(g,m).then((e=>{alert(e.collections);for(let t of e.collections)i.Services.Databases.deleteAllDocument(g,m,t.$id)}))}},{title:"Delete Applet",icon:(0,t.SvgIcon)("svg-sprite-global__delete","#bc4841","18px","18px"),color:"#bc4841",onClick:()=>{w(h.$id,(()=>{r.EventBus.Default.fire("applet.added",{treeItem:c})}))}}],requestNavigation:()=>{if(null==d)switch(c.type){case"folder":f(`f/${(0,t.urlFriendly)(c.name)}-[${c.$id}]`,!1);break;case"document":f(`d/${(0,t.urlFriendly)(c.name)}-[${c.$id}]`,!1)}else d({workspaceId:g,appletId:c.appletId,item:c})}})}}class d extends t.UIFormController{LoadView(){return(0,t.UIRouteOutlet)().width("100%").height("100%")}}const u=tuval$react;var p=n.n(u),h=n(751),g=n.n(h);class m extends p().Component{get Name(){return this.props.name}constructor(e){super(e),this.state={}}render(){return p().createElement(this.props.controller,{content:this.props.content,onSave:this.props.onSave})}}const f={},v=({view_qn:e,content:n,onSave:i})=>{let o=e;(0,t.useLocation)();const a=new Promise(((e,t)=>{if(f[o])e(f[o]);else{const t=`/system/${o}.app`;r.ModuleLoader.LoadBundledModule(t,o).then((t=>{if(null!=t){const n=new t;f[o]=n.GetMainController(),e(n.GetMainController())}}))}})),s=g()((e=>a.then((e=>e))),[o]);return p().createElement(m,{name:o,controller:s,content:n,onSave:i})};class w extends t.UIFormController{LoadView(){const{workspaceId:e,appletId:n,listId:r,viewId:o}=(0,t.useParams)(),{document:a,isLoading:s}=(0,i.useGetDocument)({projectId:e,databaseId:n,collectionId:`wm_list_${r}_views`,documentId:o});return s?(0,t.Text)("Loading..."):(0,t.VStack)((0,t.HStack)({alignment:t.cTopLeading})((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)((0,t.VStack)((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cTopLeading})((0,t.ReactView)(p().createElement(p().Suspense,{fallback:p().createElement(u.Fragment,null,(0,t.VStack)((0,t.Spinner)()).render())},p().createElement(y,null,p().createElement(v,{view_qn:a.type,content:{},onSave:e=>{this.SetValue("content",e)}})))).frame(!0).width("100%").height("100%"))).overflow("hidden")).background("white"))).background("#FAFBFC")))}}function y({children:e}){const[n,i]=(0,t.useState)(!1),r=(0,t.useLocation)();return(0,t.useEffect)((()=>{n&&i(!1)}),[r.key]),p().createElement(b,{hasError:n,setHasError:i},e)}class b extends p().Component{constructor(e){super(e),this.state={hasError:!1},this.ref=p().createRef()}static getDerivedStateFromError(e){return{hasError:!0}}componentDidUpdate(e,t){!this.props.hasError&&e.hasError&&this.setState({hasError:!1})}componentDidCatch(e,t){t&&t.componentStack,e.Hey="sdfsdf",e.Mert="sdfsdf",this.props.setHasError(!0),this.setState({errorText:JSON.stringify(e)})}render(){return this.state.hasError?p().createElement("p",null,this.state.errorText):this.props.children}}const x=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M16.25 3H12a.75.75 0 0 0 0 1.5h2.44l-3.47 3.47a.75.75 0 0 0 1.06 1.06l3.47-3.47V8A.75.75 0 0 0 17 8V3.75a.75.75 0 0 0-.75-.75ZM3.75 17H8a.75.75 0 0 0 0-1.5H5.56l3.47-3.47a.75.75 0 1 0-1.06-1.06L4.5 14.44V12A.75.75 0 0 0 3 12v4.25a.75.75 0 0 0 .75.75Z"})),I=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M6.5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm3.5 1.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z"})),S=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M3.728 15.172a.778.778 0 1 0 1.1 1.1L10 11.1l5.172 5.172a.778.778 0 0 0 1.1-1.1L11.1 10l5.172-5.172a.778.778 0 0 0-1.1-1.1L10 8.9 4.828 3.728a.778.778 0 1 0-1.1 1.1L8.9 10l-5.172 5.172Z"})),C=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.469 1.532a1.195 1.195 0 0 1 1.062 0c.289.143.444.397.524.542.086.154.175.354.268.562l1.643 3.685 4.013.424c.226.024.444.047.617.08.162.033.452.101.677.332.262.267.383.64.329 1.01-.047.32-.242.545-.354.666-.12.13-.283.276-.452.429l-2.997 2.7.837 3.948c.047.223.093.437.114.613.02.163.044.46-.106.746-.173.33-.49.562-.859.624-.318.054-.593-.06-.743-.13-.16-.074-.35-.184-.547-.297L10 15.45l-3.496 2.016c-.197.113-.386.223-.547.297-.15.07-.424.184-.742.13a1.195 1.195 0 0 1-.86-.624c-.15-.286-.125-.582-.105-.746.02-.176.066-.39.114-.613l.837-3.947-2.998-2.701c-.169-.153-.331-.3-.452-.429-.112-.121-.306-.347-.353-.666-.054-.37.067-.743.328-1.01.226-.23.516-.3.678-.331.173-.034.39-.057.617-.081l.029-.003 3.984-.42 1.63-3.66.013-.026c.092-.208.181-.408.268-.562.08-.145.235-.399.524-.542Zm.53 1.82-1.604 3.6-.012.029c-.044.1-.122.279-.254.425a1.195 1.195 0 0 1-.402.292c-.18.08-.375.1-.483.11-.011 0-.021.002-.03.003l-3.92.414 2.928 2.639.023.02c.08.072.227.202.326.373.083.145.136.306.153.472a1.56 1.56 0 0 1-.045.493l-.006.03-.818 3.857 3.415-1.97.026-.015c.094-.055.263-.155.456-.196.163-.034.332-.034.496 0 .193.041.362.14.455.196l.027.015 3.415 1.97-.818-3.857a1.56 1.56 0 0 1-.051-.524c.017-.165.07-.326.153-.471.098-.17.245-.3.326-.373a1.87 1.87 0 0 0 .023-.02l2.928-2.64-3.92-.413-.03-.003a1.56 1.56 0 0 1-.483-.11 1.195 1.195 0 0 1-.402-.292 1.558 1.558 0 0 1-.266-.454L10 3.352Z"})),k=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.75 15.835a7.055 7.055 0 0 0 4.378-1.515l3.782 3.771a.835.835 0 0 0 1.18-1.182l-3.78-3.768a7.085 7.085 0 1 0-5.56 2.694ZM3.335 8.75a5.415 5.415 0 1 1 10.83 0 5.415 5.415 0 0 1-10.83 0Z"})),L=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"m10.063 10.808 2.06-.03c.55-.001 1.075-.218 1.463-.604a2.054 2.054 0 0 0 .001-2.909 2.07 2.07 0 0 0-1.461-.602L6.757 6.66c-.527 0-1.034.2-1.417.562A2.043 2.043 0 0 0 4.7 8.6l-.011.129a.839.839 0 0 1-1.433.574.829.829 0 0 1-.238-.591A2.276 2.276 0 0 1 3 8.483a3.704 3.704 0 0 1 1.18-2.457 3.739 3.739 0 0 1 2.549-.994L12.133 5c.964.04 1.875.45 2.542 1.142a3.71 3.71 0 0 1-.003 5.154 3.754 3.754 0 0 1-2.543 1.145l-2.02.024a.836.836 0 0 1-.798-.806.83.83 0 0 1 .752-.851Zm-5.024.932a3.726 3.726 0 0 1 1.1-2.628c.7-.697 1.65-1.09 2.64-1.094l2.02-.025a.836.836 0 0 1 .799.807.83.83 0 0 1-.752.85l-2.038.007c-.548 0-1.074.218-1.462.604a2.054 2.054 0 0 0-.001 2.909 2.07 2.07 0 0 0 1.461.601l5.369.004c.527 0 1.035-.201 1.417-.562.383-.361.612-.855.64-1.379l.011-.13a.83.83 0 0 1 .845-.822.837.837 0 0 1 .826.84 3.712 3.712 0 0 1-1.194 2.714 3.747 3.747 0 0 1-2.546.996l-5.375.003a3.756 3.756 0 0 1-2.646-1.075 3.72 3.72 0 0 1-1.114-2.62Z"})),E=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M12.25 6.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25ZM7.75 6.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z"}),p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 1.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5Zm0 1.5a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5Z"}),p().createElement("path",{d:"M8.238 11.643a3.707 3.707 0 0 1-.491-.428l-.149-.168a.75.75 0 0 0-1.198.903l.078.097a5.21 5.21 0 0 0 .878.81c.598.435 1.5.893 2.644.893 1.144 0 2.046-.458 2.644-.893a5.21 5.21 0 0 0 .879-.81l.077-.097a.75.75 0 0 0-1.198-.903l-.149.168c-.11.116-.276.272-.491.428-.433.315-1.031.607-1.762.607-.73 0-1.33-.292-1.762-.607Z"})),D=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.676 2c.258 0 .494 0 .692.016.213.018.446.057.677.175.329.168.596.435.764.765.118.23.157.463.175.676.016.198.016.434.016.692V5.287c0 .225.001.465-.063.697a1.749 1.749 0 0 1-.27.562c-.141.195-.33.345-.505.485l-.044.035-3.799 3.04a6.505 6.505 0 0 0-.228.187.477.477 0 0 0-.043.041.25.25 0 0 0-.039.08.44.44 0 0 0-.005.06 6.424 6.424 0 0 0-.004.295v3.586c0 .286.002.591-.097.874-.085.247-.224.47-.407.656-.21.213-.484.348-.74.474l-.066.031-2.478 1.224c-.17.084-.34.169-.488.226-.154.059-.389.133-.661.091a1.25 1.25 0 0 1-.838-.52 1.288 1.288 0 0 1-.21-.634A6.281 6.281 0 0 1 7 16.239V10.5l-.025-.11a.233.233 0 0 0-.066-.098 6.422 6.422 0 0 0-.228-.187L2.882 7.066l-.044-.035c-.176-.14-.364-.29-.505-.485a1.75 1.75 0 0 1-.27-.562c-.064-.232-.064-.472-.063-.697V4.324c0-.258 0-.494.016-.692.018-.213.057-.446.175-.676a1.75 1.75 0 0 1 .765-.765c.23-.118.463-.157.676-.175C3.83 2 4.092 2 4.35 2h11.326ZM3.633 3.529a.627.627 0 0 1 .121-.018c.13-.01.304-.011.596-.011h11.3c.292 0 .467 0 .596.011a.625.625 0 0 1 .12.018.25.25 0 0 1 .105.104.638.638 0 0 1 .018.121c.01.13.011.304.011.596v.881c0 .149 0 .232-.003.295a.456.456 0 0 1-.006.06.252.252 0 0 1-.03.066c.004-.004-.002.005 0 0-.002.004-.022.03-.052.056a6.58 6.58 0 0 1-.228.187l-3.799 3.039-.044.035c-.176.14-.364.29-.505.485-.123.17-.215.36-.27.562-.064.232-.064.472-.063.697v3.57c0 .19 0 .298-.005.38a.516.516 0 0 1-.009.076.249.249 0 0 1-.058.092.51.51 0 0 1-.064.042c-.07.04-.168.089-.338.173l-2.454 1.212-.072.035v-5.58c0-.225.001-.465-.063-.697a1.75 1.75 0 0 0-.27-.562c-.141-.195-.33-.345-.505-.485l-.044-.035-3.799-3.04a6.484 6.484 0 0 1-.228-.186l-.02-.017a.127.127 0 0 1-.024-.025c-.035-.045-.04-.077-.044-.14a6.488 6.488 0 0 1-.003-.295V4.35c0-.292 0-.467.011-.596a.628.628 0 0 1 .018-.12.25.25 0 0 1 .104-.105Z"})),j=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 3.55a6.45 6.45 0 1 0 0 12.9 1.65 1.65 0 0 0 1.65-1.65v-.532c0-.246 0-.451.029-.636a2.35 2.35 0 0 1 1.953-1.953c.185-.03.39-.03.636-.029h.532A1.65 1.65 0 0 0 16.45 10 6.45 6.45 0 0 0 10 3.55ZM2.05 10a7.95 7.95 0 1 1 15.9 0 3.15 3.15 0 0 1-3.15 3.15h-.48c-.326 0-.402.002-.453.01a.85.85 0 0 0-.707.707c-.008.051-.01.127-.01.453v.48A3.15 3.15 0 0 1 10 17.95 7.95 7.95 0 0 1 2.05 10Zm5.6-3.6a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Zm4 .8a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Zm-6.4 2.4a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Z"})),M=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.386 16.777a.75.75 0 0 0 1.061 0l3.333-3.333a.75.75 0 0 0-1.06-1.061l-2.053 2.053V3.75a.75.75 0 0 0-1.5 0v10.686l-2.053-2.053a.75.75 0 0 0-1.061 1.06l3.333 3.334ZM6.083 17a.75.75 0 0 0 .75-.75V5.564l2.053 2.053a.75.75 0 0 0 1.061-1.06L6.614 3.222a.75.75 0 0 0-1.061 0L2.22 6.556a.75.75 0 0 0 1.06 1.061l2.053-2.053V16.25c0 .414.336.75.75.75Z"})),O=(e,n=undefined,i=null)=>(0,t.HStack)({spacing:5})((0,t.Icon)(e),i?(0,t.Text)(i).fontSize(14).fontFamily('ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"!important').fontSmoothing("auto").foregroundColor("#212526"):(0,t.Fragment)()).foregroundColor("rgb(109, 122, 131)").cursor("pointer").cornerRadius(6).padding(10).background({hover:"rgba(109, 122, 131, 0.15)"}).transition("all .15s ease-out").width(i?"":"28px").height("28px").onClick((()=>{n()})),T=()=>(0,t.UIViewBuilder)((()=>{const{closeDialog:e}=(0,t.useDialogStack)();return(0,t.HStack)({spacing:5})(O(k),O(E),O(C),O(L),(0,t.Spacer)(),O(x),O(D,void 0,"Filter"),O(M,void 0,"Sort"),O(j,void 0,"Color"),O(I),O(S,(()=>{e()}))).background("white").height().padding(8)})),_=(e,n=undefined)=>(0,t.UIViewBuilder)((()=>{const{openDialog:i}=(0,t.useDialogStack)();return(0,t.VStack)({alignment:t.cTopLeading})((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.Icon)((0,t.SvgIcon)("svg-sprite-global__comment","#87909e")),(0,t.Text)("Add comment").fontFamily('-apple-system, "system-ui", "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif')).foregroundColor("#87909e").height(28).width().padding("0 15px").cornerRadius(4).background({hover:"rgb(240, 241, 243)"}).onClick((()=>{i({title:"Open",view:(0,t.Text)("Hans")})})),(0,t.HStack)({alignment:t.cLeading,spacing:5})(r.is.string(e)?(0,t.EditableHeader)(e).size(t.EditableHeadingSizes.SMALL).onChange((e=>n(e))).fontSmoothing("auto").foregroundColor("#212526").fontSize(32).fontWeight("500").lineHeight("1.25").kerning("-0.003em"):r.is.function(e)?e():(0,t.Fragment)()).background("white").height().padding(8).paddingBottom("20px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({spacing:5})((0,t.HStack)((0,t.Text)("ST").foregroundColor("white").fontSize(10).fontWeight("500").fontFamily('-apple-system, BlinkMacSystemFont, "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif').lineHeight("1.33").kerning("-0.003em")).width(20).height(20).cornerRadius("50%").background("rgb(255, 87, 34)"),(0,t.Text)("You").foregroundColor("#87909e")).height().width(),(0,t.HStack)((0,t.Text)("Last Updated: 6/29/23 at 11:27 pm").foregroundColor("#87909e")).height().width()).height().padding(t.cHorizontal,15).paddingBottom("5px")).height().paddingBottom("10px").borderBottom("1px solid #F2F2F2")).padding().paddingBottom("0px").height()})),A=tuval$react$dom;var N=n.n(A);class H extends t.DialogView{constructor(){super(),this.Header="Form",this.Width="624px",this.Position="center",this.Height="50%"}BindRouterParams(e){this.workspaceId=e}OnOK(){this.ShowDialogAsyncResolve(),this.Hide()}OnCancel(){this.Hide()}LoadView(){const{documents:e}=(0,i.useListDocuments)(this.workspaceId,"workspace","applets",[]);return(0,t.VStack)({alignment:t.cTopLeading,spacing:5})(e?(0,t.ScrollView)({axes:"cAll",alignment:t.cTopLeading})(...(0,t.ForEach)(e)(((e,n)=>(0,t.UIWidget)(e.opa).config({workspaceId:this.workspaceId,appletId:e.$id,onItemSelected:e=>{this.ShowDialogAsyncResolve(e),this.Hide()}}))),(0,t.Button)((0,t.Text)("OK")).onClick((()=>this.OnOK()))):(0,t.Fragment)()).padding(8)}static Show(e){const t=new H;return t.ShowHeader=!1,t.BindRouterParams(e),t.ShowDialogAsync()}}!function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);o>3&&a&&Object.defineProperty(t,n,a)}([(0,t.ViewProperty)()],H.prototype,"workspaceId",void 0);const P=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor","aria-hidden":"true"},p().createElement("g",null,p().createElement("path",{d:"M6 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h4.286v-4.286c0-.789.64-1.428 1.428-1.428H16V12h-4v4l4-4V6a2 2 0 0 0-2-2H6Z"}))),U=()=>p().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},p().createElement("path",{d:"m10 17.55-1.77 1.72a2.47 2.47 0 0 1-3.5-3.5l4.54-4.55a2.46 2.46 0 0 1 3.39-.09l.12.1a1 1 0 0 0 1.4-1.43 2.75 2.75 0 0 0-.18-.21 4.46 4.46 0 0 0-6.09.22l-4.6 4.55a4.48 4.48 0 0 0 6.33 6.33L11.37 19A1 1 0 0 0 10 17.55ZM20.69 3.31a4.49 4.49 0 0 0-6.33 0L12.63 5A1 1 0 0 0 14 6.45l1.73-1.72a2.47 2.47 0 0 1 3.5 3.5l-4.54 4.55a2.46 2.46 0 0 1-3.39.09l-.12-.1a1 1 0 0 0-1.4 1.43 2.75 2.75 0 0 0 .23.21 4.47 4.47 0 0 0 6.09-.22l4.55-4.55a4.49 4.49 0 0 0 .04-6.33Z",id:"link"}));class B{static get toolbox(){return{title:"Link To Document",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="ifqe6sa" fill="currentColor" aria-hidden="true" style="display: inline-block; position: relative; top: 0px; left: 0px;"><g><path d="M6 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h4.286v-4.286c0-.789.64-1.428 1.428-1.428H16V12h-4v4l4-4V6a2 2 0 0 0-2-2H6Z"></path></g></svg>'}}constructor({data:e,config:t,api:n,readOnly:r}){this.selected=!1,this.api=n,this.readOnly=r,this.config=t,this.view=t.view,this.info=null==e?void 0:e.info,this.selected=null==e?void 0:e.selected,null!=this.info&&i.Services.Databases.getDocument(this.info.workspaceId,this.info.appletId,"dm_tree",this.info.item.$id).then((e=>{this.document=e,this.renderView()}))}render(){return this.wrapper=document.createElement("div"),this.selected?this.renderView():H.Show(this.config.workspaceId).then((e=>{this.info=e,this.selected=!0,i.Services.Databases.getDocument(this.info.workspaceId,this.info.appletId,"dm_tree",this.info.item.$id).then((e=>{this.document=e,this.renderView()}))})),this.wrapper}renderView(){var e;if(null!=this.wrapper){const n=N().createRoot(this.wrapper),i=(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)((0,t.Icon)(P)).width().height().foregroundColor("#4568FB"),(0,t.Text)(null===(e=this.document)||void 0===e?void 0:e.name),(0,t.HStack)((0,t.Icon)(U)).width().height().foregroundColor("#6D7A83")).cornerRadius(10).width().height().padding(".4em 0").cursor("pointer").onClick((()=>{var e;this.config.openDialog({title:null===(e=this.document)||void 0===e?void 0:e.name,view:(0,t.UIViewBuilder)((()=>(0,t.UIWidget)("com.tuvalsoft.viewer.document").config({workspaceId:this.info.workspaceId,appletId:this.info.appletId,documentId:this.info.item.$id})))})}));n.render(i.render())}}validate(e){return this.selected}save(e){return{info:this.info,selected:this.selected}}}var R=n(88),V=n.n(R);class F extends t.UIController{LoadView(){const{documentId:n=this.props.documentId}=(0,t.useParams)(),{realm:o}=(0,e.useRealm)(),{applet:a}=(0,e.useApplet)(),s=o.$id,l=a.$id,{document:c,isLoading:d}=(0,i.useGetDocument)({projectId:s,databaseId:l,collectionId:"documents",documentId:n}),{document:u,isLoading:h}=(0,i.useGetDocument)({projectId:s,databaseId:l,collectionId:"documentContent",documentId:n}),{updateDocument:g}=(0,i.useUpdateDocument)(s);return d||h?(0,t.Fragment)():(0,t.ReactView)(p().createElement(t.DialogStack,null,(0,t.VStack)({alignment:t.cTopLeading})(T(),_(null==c?void 0:c.name,(e=>{g({databaseId:l,collectionId:"documents",documentId:n,data:{name:e}})})),(0,t.UIViewBuilder)((()=>{const{openDialog:e}=(0,t.useDialogStack)();return window.location.hash?(0,t.UIWidget)(null==c?void 0:c.viewer).config({defaultValue:r.is.nullOrEmpty(null==u?void 0:u.content)?null:JSON.parse(u.content),clamp:!0,workspaceId:s,appletId:l,tools:{image:{class:V(),inlineToolbar:!0,config:{embed:{display:!0},unsplash:{appName:"your_app_name",clientId:"your_client_id"}}},link:{class:B,inlineToolbar:!0,shortcut:"CMD+SHIFT+W",config:{workspaceId:s,appletId:l,openDialog:e}}},onChange:e=>{console.log(e),g({databaseId:l,collectionId:"documentContent",documentId:n,data:{content:JSON.stringify(e)}})}}):(0,t.UINavigate)("##")}))).background("white").render()))}}class z extends t.UIController{LoadView(){const{workspaceId:e,appletId:n,whiteboardId:o}=(0,t.useParams)(),{document:a}=(0,i.useGetDocument)({projectId:e,databaseId:n,collectionId:"wm_whiteboards",documentId:o}),{document:s,isLoading:l}=(0,i.useGetDocument)({projectId:e,databaseId:n,collectionId:"wm_whiteboard_contents",documentId:o}),{updateDocument:c}=(0,i.useUpdateDocument)(e);return l?(0,t.Fragment)():(0,t.ReactView)(p().createElement(t.DialogStack,null,(0,t.VStack)(T(),_(null==a?void 0:a.name,(e=>{c({databaseId:n,collectionId:"wm_whiteboards",documentId:o,data:{name:e}})})),(0,t.UIWidget)("com.tuvalsoft.widget.whiteboard").config({defaultValue:r.is.nullOrEmpty(null==s?void 0:s.content)?null:JSON.parse(s.content),onChange:e=>{console.log(e),c({databaseId:n,collectionId:"wm_whiteboard_contents",documentId:o,data:{content:JSON.stringify(e)}})}})).background("white").render()))}}class Z extends t.UIController{LoadView(){const{folderId:n}=(0,t.useParams)(),{realm:o}=(0,e.useRealm)(),{applet:a}=(0,e.useApplet)(),s=o.$id,l=a.$id,{document:c}=(0,i.useGetDocument)({projectId:s,databaseId:l,collectionId:"folders",documentId:n}),{documents:d,isLoading:u}=(0,i.useListDocuments)(s,l,"folders",[i.Query.equal("parent",n)]),{documents:h,isLoading:g}=(0,i.useListDocuments)(s,l,"documents",[i.Query.equal("parent",n)]),{updateDocument:m}=(0,i.useUpdateDocument)(s);return u||g?(0,t.Fragment)():(0,t.ReactView)(p().createElement(t.DialogStack,{title:(0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.Icon)((0,t.SvgIcon)("cu3-icon-sidebarFolder","#151719","18px","18px")).transform("rotate(90deg)"),(0,t.Text)("Folder - "+(null==c?void 0:c.name)))},((e,n)=>(0,t.UIViewBuilder)((()=>{const{appletId:o}=(0,t.useParams)(),{document:a}=(0,i.useGetDocument)({projectId:e,databaseId:"workspace",collectionId:"ws_tree",documentId:n}),{documents:s,isLoading:l}=(0,i.useListDocuments)(e,"workspace","ws_tree",[i.Query.equal("parent",n)]),{updateDocument:c}=(0,i.useUpdateDocument)(e);return l?(0,t.Fragment)():(0,t.VStack)(T(),((e,n=undefined)=>(0,t.UIViewBuilder)((()=>{const{openDialog:i}=(0,t.useDialogStack)();return(0,t.VStack)({alignment:t.cTopLeading})((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.Icon)((0,t.SvgIcon)("svg-sprite-global__comment","#87909e")),(0,t.Text)("Add comment").fontFamily('-apple-system, "system-ui", "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif')).foregroundColor("#87909e").height(28).width().padding("0 15px").cornerRadius(4).background({hover:"rgb(240, 241, 243)"}).onClick((()=>{i({title:"Open",view:(0,t.Text)("Hans")})})),(0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.HStack)((0,t.Icon)((0,t.SvgIcon)("cu3-icon-sidebarFolder","#151719","36px","36px")),r.is.string(e)?(0,t.EditableHeader)(e).size(t.EditableHeadingSizes.SMALL).onChange((e=>n(e))).fontSmoothing("auto").foregroundColor("#212526").fontSize(28).fontWeight("500").lineHeight("1.25").kerning("-0.003em"):r.is.function(e)?e():(0,t.Fragment)())).background("white").height().padding(8).paddingBottom("20px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({spacing:5})((0,t.HStack)((0,t.Text)("ST").foregroundColor("white").fontSize(10).fontWeight("500").fontFamily('-apple-system, BlinkMacSystemFont, "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif').lineHeight("1.33").kerning("-0.003em")).width(20).height(20).cornerRadius("50%").background("rgb(255, 87, 34)"),(0,t.Text)("You").foregroundColor("#87909e")).height().width(),(0,t.HStack)((0,t.Text)("Last Updated: 6/29/23 at 11:27 pm").foregroundColor("#87909e")).height().width()).height().padding(t.cHorizontal,15).paddingBottom("5px")).height().paddingBottom("10px").borderBottom("1px solid #F2F2F2")).padding().paddingBottom("0px").height()})))(null==a?void 0:a.name,(e=>{c({databaseId:o,collectionId:"dm_documents",documentId:n,data:{name:e}})})),(0,t.UIViewBuilder)((()=>{const{openDialog:e}=(0,t.useDialogStack)();return(0,t.HStack)({alignment:t.cTopLeading})().padding()})),(0,t.Spacer)()).background("white")})))(s,n).render()))}}function W(){var e=window.location.href.match(/\/settings\/([^\/]+)/);return e&&e.length>1?e[1]:void 0}class $ extends t.UIFormController{LoadView(){const{realm:n}=(0,e.useRealm)(),{applet:i}=(0,e.useApplet)(),r=n.$id,o=i.$id,a=[{id:"general",title:"General",url:`/@/workspace/${r}/applet/${o}/settings/general`,icon:(0,t.SvgIcon)("cu3-icon-settings")},{id:"import",title:"Document Types",url:`/@/workspace/${r}/applet/${o}/settings/import`,icon:(0,t.SvgIcon)("cu3-icon-importIcon")},{id:"features",title:"Features",url:`/@/workspace/${r}/applet/${o}/settings/features`,icon:(0,t.SvgIcon)("cu3-icon-settings")},{id:"collections",title:"Collections",url:`/@/workspace/${r}/applet/${o}/settings/collections`,icon:(0,t.SvgIcon)("cu3-icon-settings")},{id:"import",title:"Integrations",url:`/@/workspace/${r}/applet/${o}/settings/import`,icon:(0,t.SvgIcon)("cu3-icon-importIcon")},{id:"security",title:"Security & Permissions ",url:`/@/workspace/${r}/applet/${o}/settings/security`,icon:(0,t.SvgIcon)("cu3-icon-protectedAlt")},{id:"import",title:"Imports / Exports",url:`/@/workspace/${r}/applet/${o}/settings/import`,icon:(0,t.SvgIcon)("cu3-icon-importIcon")}],{navigate:s}=(0,e.useAppletNavigate)();return(0,t.HStack)((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading})((0,t.Heading)("DOCUMENT APPLET").h3().foregroundColor("rgb(101, 111, 125)").fontSize(11).fontWeight("600")).padding("16px 8px 8px").height(),...(0,t.ForEach)(a)((e=>(0,t.HStack)({alignment:t.cLeading,spacing:8})((0,t.Icon)(e.icon).foregroundColor(e.id===W()?"rgb(84, 77, 201)":"rgb(42, 46, 52)"),(0,t.Text)(e.title).fontSize(14).foregroundColor(e.id===W()?"rgb(84, 77, 201)":"rgb(42, 46, 52)").fontFamily('-apple-system, "system-ui", "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif').lineHeight(16)).height(32).cornerRadius(6).background({default:e.id===W()?"#E5E4FC":"",hover:"#E8EAED"}).padding(t.cHorizontal,8).cursor("pointer").onClick((()=>{s(`settings/${e.id}`)}))))).padding().background("#F7F8F9").allWidth(240).margin("0 8px"),(0,t.UIRouteOutlet)().width("100%").height("100%"))}}const G=[{key:"isVersionManagementActive",title:"Version",description:"Is version management active"},{key:"isVersionManagementActive",title:"Document Metadata",description:"Is version management active"},{key:"isVersionManagementActive",title:"Security",description:"Is version management active"},{key:"isVersionManagementActive",title:"E-mail",description:"Is version management active"},{key:"isVersionManagementActive",title:"History",description:"Is version management active"}];class Y extends t.UIFormController{LoadView(){return(0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Features").fontSize(24).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cTopLeading})(...(0,t.ForEach)(G)((e=>(0,t.VStack)({alignment:t.cTop})((0,t.VStack)().background("#7f77f1").cornerRadius("4px 4px 0 0").height(4),(0,t.HStack)((0,t.UIImage)("/images/version.png").maxWidth("100%").maxHeight("100%")).width(268).height(180),(0,t.Text)(e.title).fontSize(17).fontWeight("500").lineHeight(24).foregroundColor("#505050").marginBottom("12px").padding("0 15px").transition("all .2s cubic-bezier(.785,.135,.15,.86) 0s"),(0,t.Text)(e.description).lineHeight(18).fontSize(12).foregroundColor("rgb(42, 46, 52)")).background("rgb(247, 248, 249)").border("1px solid rgb(232, 234, 237)").padding("0 0 30px").margin("0 8px 30px").width(270).transition("all .2s cubic-bezier(.785,.135,.15,.86) 0s").allHeight(370).cornerRadius(4).shadow({hover:"0 4px 15px #0000001a"})))).wrap("wrap").padding("24px 48px")).padding("24px 48px")}}class q extends t.UIFormController{LoadView(){const{realm:n}=(0,e.useRealm)(),{applet:o}=(0,e.useApplet)(),a=n.$id,s=o.$id,{updateDocument:l}=(0,i.useUpdateDocument)(a);return(0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("General").fontSize(24).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Applet").fontSize(20).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Name").fontSize(16).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().width(300),(0,t.HStack)((0,t.TextField)().value(null==o?void 0:o.name).border("0").outline({focus:"none"}).shadow("rgba(224, 227, 230, 0.7) 0px 0px 0px 1px").padding(12).cornerRadius(6)).height().width(400)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Icon").fontSize(16).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().width(300),(0,t.HStack)((0,t.UIWidget)("com.tuvalsoft.widget.icons").config({onChange:e=>{l({databaseId:"workspace",collectionId:"applets",documentId:s,data:{iconName:e.iconName,iconCategory:e.iconCategory}},(()=>{l({databaseId:"workspace",collectionId:"ws_tree",documentId:s,data:{iconName:e.iconName,iconCategory:e.iconCategory}},(()=>{r.EventBus.Default.fire("applet.added",{treeItem:e})}))}))},selectedIcon:null==o?void 0:o.iconName,color:null==o?void 0:o.themeColor,selectedCategory:null==o?void 0:o.iconCategory,width:32,height:32})).border("1px dashed rgba(69,104,251,.3)").transition("border-color .12s ease-in-out").cornerRadius(6).padding(4).width(44).height(44).cornerRadius(5)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Theme Color").fontSize(16).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().width(300)).height().margin("0 0 30px")).padding("24px 48px")}}class Q extends t.UIController{routeView(){return(0,t.UIViewBuilder)((()=>(0,t.VStack)((0,t.UIRoutes)((0,t.UIRoute)("/",d).children((0,t.UIRoute)("f/:folderId",class extends Z{}),(0,t.UIRoute)("d/:documentId",window.location.hash?F:class extends F{}),(0,t.UIRoute)("whiteboard/:whiteboardId",class extends z{}),(0,t.UIRoute)(":view_id",w),(0,t.UIRoute)(":view_id/*",w)),(0,t.UIRoute)("/settings",$).children((0,t.UIRoute)("features",Y),(0,t.UIRoute)("general",q)))).background("var(--primary-background-color)")))}LoadView(){return this.routeView()}}const J=n(906);let X=class{GetMainController(){return{applet:Q,tree:c}}};X=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([function(e){return t=>{null==tuval$core.__APPS__&&(tuval$core.__APPS__={}),tuval$core.__APPS__[e.application.name]=t}}(J)],X),e.FormBuilder.injectAction(a),e.FormBuilder.injectAction(s)})()})();
//# sourceMappingURL=index.js.map
                    tuval$core.ModuleLoader.FireModuleLoadedEvent('com.celmino.applet.document-management', tuval$core['__APPS__']['com.celmino.applet.document-management']);
                    