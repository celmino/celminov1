{"version":3,"file":"index.js","mappings":"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","sources":["webpack://tuval-core/./node_modules/react-promise-suspense/build/index.js","webpack://tuval-core/./node_modules/react-promise-suspense/node_modules/fast-deep-equal/index.js","webpack://tuval-core/./src/manifest.js","webpack://tuval-core/webpack/bootstrap","webpack://tuval-core/webpack/runtime/compat get default export","webpack://tuval-core/webpack/runtime/define property getters","webpack://tuval-core/webpack/runtime/hasOwnProperty shorthand","webpack://tuval-core/external var \"celmino$platform\"","webpack://tuval-core/external var \"tuval$forms\"","webpack://tuval-core/external var \"realmocean$sdk\"","webpack://tuval-core/external var \"tuval$core\"","webpack://tuval-core/external var \"realmocean$atlaskit\"","webpack://tuval-core/./src/dialogs/AddDocumentDialog.ts","webpack://tuval-core/./src/dialogs/AddFolderDialog.ts","webpack://tuval-core/./src/TreeController.ts","webpack://tuval-core/./src/views/ContextMenu.ts","webpack://tuval-core/./src/dialogs/AddMarkdownDialog.ts","webpack://tuval-core/./src/AppController.tsx","webpack://tuval-core/external var \"tuval$react\"","webpack://tuval-core/./src/routes/list-[listId]/view-[viewId]/+controller.tsx","webpack://tuval-core/./src/views/ActionPanel.tsx","webpack://tuval-core/./src/views/ViewHeader.ts","webpack://tuval-core/./src/routes/document-[documentId]/+controller.tsx","webpack://tuval-core/./src/routes/whiteboard-[whiteboardId]/+controller.tsx","webpack://tuval-core/./src/routes/folder-[folderId]/+controller.tsx","webpack://tuval-core/./src/routes/folder-[folderId]/view/FolderView.tsx","webpack://tuval-core/./src/routes/folder-[folderId]/view/FolderHeader.ts","webpack://tuval-core/./src/routes/settings/+controller.ts","webpack://tuval-core/./src/routes/settings/features/+controller.ts","webpack://tuval-core/./src/routes/settings/general/+controller.ts","webpack://tuval-core/./src/routes/+routes.ts","webpack://tuval-core/./src/Application.ts"],"sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar deepEqual = require(\"fast-deep-equal\");\nvar promiseCaches = [];\nvar usePromise = function (promise, inputs, lifespan) {\n    var e_1, _a;\n    if (lifespan === void 0) { lifespan = 0; }\n    try {\n        for (var promiseCaches_1 = __values(promiseCaches), promiseCaches_1_1 = promiseCaches_1.next(); !promiseCaches_1_1.done; promiseCaches_1_1 = promiseCaches_1.next()) {\n            var promiseCache_1 = promiseCaches_1_1.value;\n            if (deepEqual(inputs, promiseCache_1.inputs)) {\n                if (Object.prototype.hasOwnProperty.call(promiseCache_1, \"error\")) {\n                    throw promiseCache_1.error;\n                }\n                else if (Object.prototype.hasOwnProperty.call(promiseCache_1, \"response\")) {\n                    return promiseCache_1.response;\n                }\n                throw promiseCache_1.promise;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (promiseCaches_1_1 && !promiseCaches_1_1.done && (_a = promiseCaches_1.return)) _a.call(promiseCaches_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    var promiseCache = {\n        promise: promise.apply(void 0, __spreadArray([], __read(inputs), false)).then(function (response) {\n            promiseCache.response = response;\n        })\n            .catch(function (e) {\n            promiseCache.error = e;\n        })\n            .then(function () {\n            if (lifespan > 0) {\n                setTimeout(function () {\n                    var index = promiseCaches.indexOf(promiseCache);\n                    if (index !== -1) {\n                        promiseCaches.splice(index, 1);\n                    }\n                }, lifespan);\n            }\n        }),\n        inputs: inputs,\n    };\n    promiseCaches.push(promiseCache);\n    throw promiseCache.promise;\n};\nmodule.exports = usePromise;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","module.exports = {\n    application: {\n        name: 'com.celmino.applet.document-management',\n        path: './src/Application.ts',\n        displayName: \"Procetra\",\n        icon: \"data:image/svg+xml;base64,PHN2ZyBpZD0iZjc4ZjUxMTUtYmU4OC00ZDQ0LWIzNGUtM2Y2ZWE3NDMxMjVjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImI2YzQzYmQ5LWUzN2YtNDE5MS05M2MyLWQzYTdhODRjNTA1ZSIgeDE9IjkiIHkxPSIxOS4xMyIgeDI9IjkiIHkyPSItMC4yOSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAwNzhkNCIgLz48c3RvcCBvZmZzZXQ9IjAuMTYiIHN0b3AtY29sb3I9IiMxMzgwZGEiIC8+PHN0b3Agb2Zmc2V0PSIwLjUzIiBzdG9wLWNvbG9yPSIjM2M5MWU1IiAvPjxzdG9wIG9mZnNldD0iMC44MiIgc3RvcC1jb2xvcj0iIzU1OWNlYyIgLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1ZWEwZWYiIC8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHRpdGxlPkljb24tbWFjaGluZWxlYXJuaW5nLTE2MjwvdGl0bGU+PHBhdGggZD0iTTE4LDExLjM4QTQsNCwwLDAsMCwxNC40OSw3LjUsNS4xLDUuMSwwLDAsMCw5LjI0LDIuNjIsNS4yNSw1LjI1LDAsMCwwLDQuMjIsNiw0LjgsNC44LDAsMCwwLDAsMTAuNjdhNC45LDQuOSwwLDAsMCw1LjA3LDQuNzFsLjQ0LDBoOC4yMWEuNzguNzgsMCwwLDAsLjIyLDBBNC4xLDQuMSwwLDAsMCwxOCwxMS4zOFoiIGZpbGw9InVybCgjYjZjNDNiZDktZTM3Zi00MTkxLTkzYzItZDNhN2E4NGM1MDVlKSIgLz48cGF0aCBkPSJNNS40MiwxMC4zOUg0LjU0YTEuMDksMS4wOSwwLDEsMCwwLC40OWguODhhLjIuMiwwLDAsMSwuMi4ydjQuM2guNDl2LTQuM0EuNjkuNjksMCwwLDAsNS40MiwxMC4zOVptLTEuOTUuODhhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDMuNDcsMTEuMjdaIiBmaWxsPSIjOWNlYmZmIiAvPjxwYXRoIGQ9Ik04Ljk0LDEwLjYxdi0xYS43LjcsMCwwLDAtLjctLjdINi42OWEuMi4yLDAsMCwxLS4yLS4yVjMuNGwtLjIzLjEyTDYsMy42NnY1YS42OS42OSwwLDAsMCwuNjkuNjlIOC4yNGEuMjEuMjEsMCwwLDEsLjIxLjIxdjFhMS4wOCwxLjA4LDAsMCwwLS44NSwxLjA2LDEuMDksMS4wOSwwLDEsMCwxLjM0LTEuMDZabS0uMjUsMS43aDBhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDguNjksMTIuMzFaIiBmaWxsPSIjZjJmMmYyIiAvPjxwYXRoIGQ9Ik0xNC41Myw4LjVhMS4wOSwxLjA5LDAsMCwwLS4yNSwyLjE1di4yYS4yMS4yMSwwLDAsMS0uMjEuMjFoLTJWNy41NGEuNjkuNjksMCwwLDAtLjY5LS42OUgxMC4zNUExLjA4LDEuMDgsMCwwLDAsOS4yOSw2YTEuMDksMS4wOSwwLDEsMCwxLjA2LDEuMzRoMS4wN2EuMi4yLDAsMCwxLC4yLjJ2Ny44NGguNDlWMTEuNTVoMmEuNy43LDAsMCwwLC43LS43di0uMmExLjA5LDEuMDksMCwwLDAsLjg1LTEuMDZoMEExLjA5LDEuMDksMCwwLDAsMTQuNTMsOC41Wk05LjI5LDcuNzNoMGEuNjQuNjQsMCwxLDEsLjY0LS42NEEuNjQuNjQsMCwwLDEsOS4yOSw3LjczWm01LjI0LDIuNWgwYS42NC42NCwwLDEsMSwuNjMtLjY0QS42NC42NCwwLDAsMSwxNC41MywxMC4yM1oiIGZpbGw9IiM5Y2ViZmYiIC8+PC9zdmc+\"\n\n    }\n    /* threads: {\n        'PMThreadWorker': 'ThreadWorker.ts'\n    } */\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = celmino$platform;","const __WEBPACK_NAMESPACE_OBJECT__ = tuval$forms;","const __WEBPACK_NAMESPACE_OBJECT__ = realmocean$sdk;","const __WEBPACK_NAMESPACE_OBJECT__ = tuval$core;","const __WEBPACK_NAMESPACE_OBJECT__ = realmocean$atlaskit;","import { LoadingButton, useFormState } from \"@realmocean/atlaskit\";\nimport { useCreateDocument } from \"@realmocean/sdk\";\nimport { EventBus } from \"@tuval/core\";\nimport { UIViewBuilder, useFormController, useDialog, useFormBuilder, useNavigate, Button, Text, nanoid } from \"@tuval/forms\";\n\n\nexport const SaveDocumentAction = (formMeta, action) => UIViewBuilder(() => {\n    const { label, successAction, successActions } = action;\n    const formController = useFormController();\n    const dialog = useDialog();\n    const formBuilder = useFormBuilder();\n    const navigate = useNavigate();\n\n    let invalidateResource = null;\n    let formMutate = null;\n    let createMutate = null;\n    let updateMutate = null;\n    let isFormMutateExcuting = false;\n    let isFormLoading = false;\n\n    const views = []\n    const { workspaceId, appletId } = formMeta;\n\n    const { createDocument: createWorkspaceTreeItem } = useCreateDocument(workspaceId, 'workspace', 'ws_tree');\n    const { createDocument, isLoading } = useCreateDocument(workspaceId, appletId, 'documents');\n    const { createDocument: createDocumentContent } = useCreateDocument(workspaceId, appletId, 'documentContent');\n\n    const formData: any = useFormState({\n        values: true,\n        errors: true\n    });\n\n    return (\n        LoadingButton().appearance(\"primary\").label('Save')\n            // .loading(isLoading)\n            .onClick(() => {\n\n                const data = formData?.values ?? {};\n\n                createDocument(\n                    {\n                        data: {\n                            ...data\n                        }\n                    },\n                    (document) => {\n                        createDocumentContent({\n                            documentId: document.$id,\n                            data: {\n                                content: ''\n                            }\n                        }, (document) => {\n\n                            createWorkspaceTreeItem({\n                                documentId: document.$id,\n                                data: {\n                                    name: data.name,\n                                    type: 'document',\n                                    parent: data.parent,\n                                    tree_widget: 'com.celmino.applet.document-management',\n                                    appletId,\n                                    path: (new Date()).getTime().toString(),\n                                    iconName: 'document',\n                                    iconCategory: 'SystemIcons',\n                                    //viewer:'com.tuvalsoft.viewer.document'\n                                }\n                            }, (item) => {\n\n                                EventBus.Default.fire('applet.added', { treeItem: item });\n                                dialog.Hide();\n                            })\n                        })\n                    }\n                )\n            })\n    )\n}\n)\n\nSaveDocumentAction.Id = nanoid();\n\nexport const AddDocumentDialog = (workspaceId: string, appletId: string, parent: string, path: string, type: string = 'document', viewer: string = 'com.tuvalsoft.widget.editorjs') => {\n    if (workspaceId == null) {\n        alert(\"spaceId is null\")\n    } else {\n        return {\n            \"title\": 'Create document',\n            \"workspaceId\": workspaceId,\n            \"appletId\": appletId,\n            /*   \"mutation\":\"_create_workspace\", */\n            \"actions\": [\n                {\n                    \"label\": \"Save\",\n                    \"type\": SaveDocumentAction.Id,\n                    /*  \"successActions\": [{\n                         \"type\": \"hide\"\n                     },\n                     {\n                         \"type\": \"navigate\",\n                         \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                     }\n                     ] */\n                    /*  \"successActions\": [{\n                     \"type\": \"hide\"\n                 },\n                 {\n                     \"type\": \"navigate\",\n                     \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                 }\n                 ] */\n                }\n            ],\n            \"fieldMap\": {\n\n                \"list_name\": {\n                    \"label\": \"name\",\n                    \"type\": \"text\",\n                    \"name\": \"name\"\n                },\n                \"type\": {\n                    \"name\": \"type\",\n                    \"type\": \"virtual\",\n                    \"value\": type\n                },\n                \"parent\": {\n                    \"name\": \"parent\",\n                    \"type\": \"virtual\",\n                    \"value\": parent\n                },\n                \"path\": {\n                    \"name\": \"path\",\n                    \"type\": \"virtual\",\n                    \"value\": path\n                },\n                \"viewer\": {\n                    \"name\": \"viewer\",\n                    \"type\": \"virtual\",\n                    \"value\": viewer\n                    //\"value\": \"com.tuvalsoft.widget.markdown\"\n                },\n                /*   \"description\": {\n                      \"label\": \"Description\",\n                      \"type\": \"text\",\n                      \"multiline\": true,\n                      \"name\": \"description\"\n                  } */\n\n            }\n        }\n    }\n}\n\n\nexport const AddWhiteboardDialog = (workspaceId: string, appletId: string, parent: string, path: string, type: string = 'document') => {\n    if (workspaceId == null) {\n        alert(\"spaceId is null\")\n    } else {\n        return {\n            \"title\": 'Create document',\n            \"workspaceId\": workspaceId,\n            \"appletId\": appletId,\n            /*   \"mutation\":\"_create_workspace\", */\n            \"actions\": [\n                {\n                    \"label\": \"Save\",\n                    \"type\": SaveDocumentAction.Id,\n                    /*  \"successActions\": [{\n                         \"type\": \"hide\"\n                     },\n                     {\n                         \"type\": \"navigate\",\n                         \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                     }\n                     ] */\n                    /*  \"successActions\": [{\n                     \"type\": \"hide\"\n                 },\n                 {\n                     \"type\": \"navigate\",\n                     \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                 }\n                 ] */\n                }\n            ],\n            \"fieldMap\": {\n\n                \"list_name\": {\n                    \"label\": \"name\",\n                    \"type\": \"text\",\n                    \"name\": \"name\"\n                },\n                \"type\": {\n                    \"name\": \"type\",\n                    \"type\": \"virtual\",\n                    \"value\": type\n                },\n                \"parent\": {\n                    \"name\": \"parent\",\n                    \"type\": \"virtual\",\n                    \"value\": parent\n                },\n                \"path\": {\n                    \"name\": \"path\",\n                    \"type\": \"virtual\",\n                    \"value\": path\n                },\n                \"viewer\": {\n                    \"name\": \"viewer\",\n                    \"type\": \"virtual\",\n                    // \"value\": \"com.tuvalsoft.widget.editorjs\"\n                    \"value\": \"com.tuvalsoft.widget.whiteboard\"\n                },\n                /*   \"description\": {\n                      \"label\": \"Description\",\n                      \"type\": \"text\",\n                      \"multiline\": true,\n                      \"name\": \"description\"\n                  } */\n\n            }\n        }\n    }\n}","import { LoadingButton, useFormState } from \"@realmocean/atlaskit\";\nimport { useCreateDocument } from \"@realmocean/sdk\";\nimport { EventBus } from \"@tuval/core\";\nimport {\n    Button,\n    Text,\n    UIViewBuilder,\n    nanoid,\n    useDialog, useFormBuilder, useFormController, useNavigate\n} from \"@tuval/forms\";\n\n\nexport const SaveFolderAction = (formMeta, action) => UIViewBuilder(() => {\n    const { label, successAction, successActions } = action;\n    const formController = useFormController();\n    const dialog = useDialog();\n    const formBuilder = useFormBuilder();\n    const navigate = useNavigate();\n\n    let invalidateResource = null;\n    let formMutate = null;\n    let createMutate = null;\n    let updateMutate = null;\n    let isFormMutateExcuting = false;\n    let isFormLoading = false;\n\n    const views = [];\n\n\n    const { workspaceId, appletId } = formMeta;\n    const { createDocument: createWorkspaceTreeItem } = useCreateDocument(workspaceId, 'workspace', 'ws_tree');\n    const { createDocument, isLoading } = useCreateDocument(workspaceId, appletId, 'folders');\n\n    const formData: any = useFormState({\n        values: true,\n        errors:true\n    });\n\n\n    return (\n        LoadingButton()\n            .appearance(\"primary\")\n            .label('Save')\n           // .type(\"submit\")\n             .onClick(() => {\n                \n                createDocument(\n                    {\n\n                        data: {\n                            ...formData.values\n                        }\n                    },\n                    (folder) => {\n                        createWorkspaceTreeItem({\n                            documentId: folder.$id,\n                            data: {\n                                name: formData.values.name,\n                                type: 'folder',\n                                parent: formData.values.parent,\n                                tree_widget: 'com.celmino.applet.document-management',\n                                appletId,\n                                path: (new Date()).getTime().toString(),\n                                iconName: 'cu3-icon-sidebarFolder',\n                                iconCategory: 'SvgIcons',\n                                //viewer:'com.tuvalsoft.viewer.document'\n                            }\n                        }, (item) => {\n                            EventBus.Default.fire('applet.added', { treeItem: item });\n                            dialog.Hide();\n                        })\n\n\n\n                    }\n                )\n\n            }) as any \n    )\n}\n)\n\nSaveFolderAction.Id = nanoid();\nexport const AddFolderDialog = (workspaceId: string, appletId: string, parent: string, path: string) => {\n    if (workspaceId == null) {\n        alert(\"spaceId is null\")\n    } else {\n        return {\n            \"title\": 'Create folder',\n            \"workspaceId\": workspaceId,\n            \"appletId\": appletId,\n            /*   \"mutation\":\"_create_workspace\", */\n            \"actions\": [\n                {\n                    \"label\": \"Save\",\n                    \"type\": SaveFolderAction.Id,\n                    /*  \"successActions\": [{\n                         \"type\": \"hide\"\n                     },\n                     {\n                         \"type\": \"navigate\",\n                         \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                     }\n                     ] */\n                    /*  \"successActions\": [{\n                     \"type\": \"hide\"\n                 },\n                 {\n                     \"type\": \"navigate\",\n                     \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                 }\n                 ] */\n                }\n            ],\n            \"fieldMap\": {\n               /*  \"path\": {\n                    \"name\": \"path\",\n                    \"type\": \"virtual\",\n                    \"value\": path\n                }, */\n                \"folder_name\": {\n                    \"label\": \"Name\",\n                    \"type\": \"text\",\n                    \"name\": \"name\"\n                },\n                \n                \"parent\": {\n                    \"name\": \"parent\",\n                    \"type\": \"virtual\",\n                    \"value\": parent\n                },\n                /*   \"description\": {\n                      \"label\": \"Description\",\n                      \"type\": \"text\",\n                      \"multiline\": true,\n                      \"name\": \"description\"\n                  } */\n\n            }\n        }\n    }\n}","import {\n    SvgIcon,\n    UIController, UIView,\n    UIWidget,\n    urlFriendly,\n    useState\n} from '@tuval/forms';\n\nimport { useAccount, useApplet, useAppletNavigate, useDeleteApplet, useRealm } from '@celmino/platform';\nimport { Services, useUpdateDocument } from '@realmocean/sdk';\nimport { EventBus, is } from '@tuval/core';\nimport { ContextMenu } from './views/ContextMenu';\n\n\nfunction process(value) {\n    if (is.string(value)) {\n        return value == undefined ? '' : value.replace(/[^a-z0-9_]+/gi, '-').replace(/^-|-$/g, '').toLowerCase()\n    } else {\n        return '';\n    }\n}\n\n\nexport class TreeController extends UIController {\n\n    public override LoadView(): UIView {\n\n        const [isEditing, setIsEditing] = useState(false);\n        const isLoading = false;\n        const { item, onItemSelected } = this.props.config || {};\n\n\n\n        const { isAnonymous } = useAccount();\n        const { realm } = useRealm();\n        const { applet } = useApplet();\n\n        const workspaceId = realm.$id;\n        const appletId = applet.$id;\n\n\n        const { navigate } = useAppletNavigate();\n\n\n        const { updateDocument } = useUpdateDocument(workspaceId);\n\n\n        const { deleteApplet } = useDeleteApplet();\n\n        return (\n\n            UIWidget('com.celmino.widget.applet-tree')\n                .config({\n                    node: item,\n                    workspaceId,\n                    appletId: item.appletId,\n                    appletName: item.name,\n                    iconName: item.iconName,\n                    iconCategory: item.iconCategory,\n                    isEditing: isEditing,\n                    //isSelected: isAppletSettings(appletId) || isAppletOnly(appletId),\n                    editingChanged: (status) => {\n                        item.canDrag = !status;\n                        setIsEditing(status)\n                    },\n                    titleChanged: (title) => {\n\n                        updateDocument({\n                            databaseId: 'workspace',\n                            collectionId: 'applets',\n                            documentId: appletId,\n                            data: {\n                                name: title\n                            }\n                        }, () => {\n                            updateDocument({\n                                databaseId: 'workspace',\n                                collectionId: 'ws_tree',\n                                documentId: item.$id,\n                                data: {\n                                    name: title\n                                }\n                            }, () => {\n                                EventBus.Default.fire('applet.added', { treeItem: item })\n                            })\n\n                        })\n                    },\n                    subNodes: (TreeNode, level, nodeType, parentId, workspaceId, appletId) => {\n                        return [];\n                        // return subNodes(TreeNode, level, nodeType, parentId, workspaceId, appletId, onItemSelected)\n                    },\n                    requestMenu: (node) => isAnonymous ? [] : ContextMenu(workspaceId, node.appletId, node.$id),\n                    requestEditMenu: (node) => isAnonymous ?\n                        [] :\n                        [\n                            {\n                                title: 'Rename ' + item.name,\n                                icon: SvgIcon('svg-sprite-global__edit', '#151719', '18px', '18px'),\n                                onClick: () => setIsEditing(true)\n                            },\n\n                            {\n                                title: 'Applet settings',\n                                icon: SvgIcon('svg-sprite-global__settings', '#151719', '18px', '18px'),\n                                onClick: () => navigate(`settings/general`)\n                            },\n\n                            {\n                                title: 'Applet settings',\n                                icon: SvgIcon('svg-sprite-global__settings', '#151719', '18px', '18px'),\n                                onClick: () => {\n                                    Services.Databases.listCollections(workspaceId, appletId).then((collections) => {\n                                        alert(collections.collections)\n                                        for (let collection of collections.collections) {\n                                            Services.Databases.deleteAllDocument(workspaceId, appletId, collection.$id)\n                                        }\n                                    });\n\n                                }\n                            },\n                            {\n                                title: 'Delete Applet',\n                                icon: SvgIcon('svg-sprite-global__delete', '#bc4841', '18px', '18px'),\n                                color: '#bc4841',\n                                onClick: () => {\n                                    deleteApplet(applet.$id, () => {\n                                        // alert('deleted')\n                                        EventBus.Default.fire('applet.added', { treeItem: item })\n                                    })\n                                }\n                            },\n\n\n                        ],\n                    requestNavigation: () => {\n                        //  alert(JSON.stringify(item));\n                        if (onItemSelected == null) {\n                            switch (item.type) {\n                                case 'folder':\n                                    navigate(`f/${urlFriendly(item.name)}-[${item.$id}]`, false);\n                                    break;\n                                case 'document':\n                                    navigate(`d/${urlFriendly(item.name)}-[${item.$id}]`, false);\n                                    break;\n\n                            }\n                        } else {\n                            onItemSelected({\n                                workspaceId, appletId: item.appletId, item\n                            })\n                        }\n                    },\n\n                })\n\n        )\n    }\n}\n\n//FormBuilder.injectAction('saveSpace', SaveSpaceAction);","import { DynoDialog } from \"@celmino/platform\";\nimport { SvgIcon } from \"@tuval/forms\";\nimport { AddDocumentDialog, AddWhiteboardDialog } from \"../dialogs/AddDocumentDialog\";\nimport { AddFolderDialog } from \"../dialogs/AddFolderDialog\";\nimport { AddMarkdownDialog } from \"../dialogs/AddMarkdownDialog\";\n\n//import { opas } from \"./Opas\";\n\n\nexport const ContextMenu = (workspaceId: string, appletId: string, parent = '-1', path = '/') => [\n\n    {\n        title: 'Folder',\n        icon: SvgIcon('cu3-icon-sidebarFolderOpen', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddFolderDialog(workspaceId, appletId, parent, path))\n    },\n    {\n        title: 'Document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'document','com.tuvalsoft.widget.blocknote'))\n    },\n    {\n        title: 'Markdown Document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddMarkdownDialog(workspaceId, appletId, parent, path, 'document'))\n    },\n    {\n        title: 'Whiteboard Document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddWhiteboardDialog(workspaceId, appletId, parent, path, 'document'))\n    },\n    {\n        title: 'Wiki document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'wiki'))\n    },\n    {\n        title: 'Word document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'word'))\n    },\n    {\n        title: 'Spreadsheet',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'document','com.tuvalsoft.widget.spreadsheet'))\n    },\n    {\n        title: 'Google sheets',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'com.tuvalsoft.widget.google-sheets-embedded'))\n    },\n    {\n        title: 'Google sheets',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'com.tuvalsoft.widget.google-sheets-embedded'))\n    },\n    {\n        type: 'Divider'\n    },\n    {\n        title: 'More Applets',\n        icon: SvgIcon('svg-sprite-activity-template-merged'),\n        /* onClick: () => SelectOpaDialog.Show(appletId, 'applet', opas).then((applet) => {\n\n           \n        }) */\n    },\n]\n\n\nexport const EditContextMenu = (workspaceId: string, appletId: string, parent = '-1', path = '/') => [\n\n    {\n        title: 'Rename',\n        icon: SvgIcon('svg-sprite-global__edit', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddFolderDialog(workspaceId, appletId, parent, path))\n    },\n    {\n        title: 'Document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'com.tuvalsoft.widget.editorjs'))\n    },\n    {\n        title: 'Wiki document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'wiki'))\n    },\n    {\n        title: 'Word document',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'word'))\n    },\n    {\n        title: 'Spreadsheet',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'com.tuvalsoft.widget.spreadsheet'))\n    },\n    {\n        title: 'Google sheets',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'com.tuvalsoft.widget.google-sheets-embedded'))\n    },\n    {\n        title: 'Google sheets',\n        icon: SvgIcon('cu3-icon-sidebarDoc', '#151719', '18px', '18px'),\n        onClick: () => DynoDialog.Show(AddDocumentDialog(workspaceId, appletId, parent, path, 'com.tuvalsoft.widget.google-sheets-embedded'))\n    },\n    {\n        type: 'Divider'\n    },\n    {\n        title: 'More Applets',\n        icon: SvgIcon('svg-sprite-activity-template-merged'),\n       /*  onClick: () => SelectOpaDialog.Show(appletId, 'applet', opas).then((applet) => {\n\n          \n        }) */\n    },\n]","import { SaveDocumentAction } from \"./AddDocumentDialog\"\n\nexport const AddMarkdownDialog = (workspaceId: string, appletId: string, parent: string, path: string, type: string = 'document') => {\n    if (workspaceId == null) {\n        alert(\"spaceId is null\")\n    } else {\n        return {\n            \"title\": 'Create document',\n            \"workspaceId\": workspaceId,\n            \"appletId\": appletId,\n            /*   \"mutation\":\"_create_workspace\", */\n            \"actions\": [\n                {\n                    \"label\": \"Save\",\n                    \"type\": SaveDocumentAction.Id,\n                    /*  \"successActions\": [{\n                         \"type\": \"hide\"\n                     },\n                     {\n                         \"type\": \"navigate\",\n                         \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                     }\n                     ] */\n                    /*  \"successActions\": [{\n                     \"type\": \"hide\"\n                 },\n                 {\n                     \"type\": \"navigate\",\n                     \"url\": \"/@/com.tuvalsoft.app.procetra/workspace/{{id}}\"\n                 }\n                 ] */\n                }\n            ],\n            \"fieldMap\": {\n\n                \"list_name\": {\n                    \"label\": \"name\",\n                    \"type\": \"text\",\n                    \"name\": \"name\"\n                },\n                \"type\": {\n                    \"name\": \"type\",\n                    \"type\": \"virtual\",\n                    \"value\": type\n                },\n                \"parent\": {\n                    \"name\": \"parent\",\n                    \"type\": \"virtual\",\n                    \"value\": parent\n                },\n                \"path\": {\n                    \"name\": \"path\",\n                    \"type\": \"virtual\",\n                    \"value\": path\n                },\n                \"viewer\": {\n                    \"name\": \"viewer\",\n                    \"type\": \"virtual\",\n                    // \"value\": \"com.tuvalsoft.widget.editorjs\"\n                    \"value\": \"com.tuvalsoft.widget.markdown\"\n                },\n                /*   \"description\": {\n                      \"label\": \"Description\",\n                      \"type\": \"text\",\n                      \"multiline\": true,\n                      \"name\": \"description\"\n                  } */\n\n            }\n        }\n    }\n}","import {\n    ReactView,\n    UIFormController,\n    UIRouteOutlet,\n    useState\n} from \"@tuval/forms\";\n\n\nexport class MyTestController extends UIFormController {\n\n\n    public LoadView() {\n       \n        return (\n            /* ReactView(\n                <PopoverDemo></PopoverDemo>\n            ) */\n            UIRouteOutlet().width('100%').height('100%')\n        )\n    }\n\n}","const __WEBPACK_NAMESPACE_OBJECT__ = tuval$react;","\nimport { useGetDocument } from '@realmocean/sdk';\nimport { ModuleLoader } from '@tuval/core';\nimport { BrokerContext, cTopLeading, HStack, ReactView, Spinner, Text, UIFormController, UIView, UIWidget, useEffect, useLocation, useParams, useState, VStack } from '@tuval/forms';\nimport React, { Fragment } from 'react';\nimport usePromise from \"react-promise-suspense\";\n\n\nexport interface IOPA {\n    name: string;\n    content: string;\n    onSave: Function\n    controller: Function;\n}\nexport class OPA extends React.Component<IOPA, any> {\n    public get Name(): string {\n        return this.props.name;\n    }\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    public render(): React.ReactNode {\n        return (\n            <this.props.controller content={this.props.content} onSave={this.props.onSave}></this.props.controller>\n        )\n    }\n}\n\nexport function getAppName() {\n    try {\n        let regex = /\\/app\\/com\\.([A-Za-z]+)\\.([A-Za-z]+)\\.([A-Za-z]+)/i;\n\n        // Alternative syntax using RegExp constructor\n        // const regex = new RegExp('(?:^\\\\/app\\\\/+|\\\\G(?!^)\\\\.)\\\\K\\\\w+', 'g')\n\n        const str = window.location.href;\n\n        let m;\n        console.log(m = regex.exec(str))\n        return m[3];\n    }\n    catch {\n        return '';\n    }\n}\n\nconst AppCache = {}\nexport const Paths = {}\n\nexport const OpaLoader = ({ view_qn, content, onSave }) => {\n    //const { opa_name } = useParams();\n    let opa_name = view_qn;\n    const location = useLocation();\n\n    const controllerPromise = new Promise((resolve, reject) => {\n        if (AppCache[opa_name]) {\n            resolve(AppCache[opa_name]);\n        } else {\n            const app_path = `/realmocean/store/@/open-testing/${opa_name}`;\n            // alert(app_path)\n            const app_path_local = `/system/${opa_name}.app`;\n            ModuleLoader.LoadBundledModule(app_path_local, opa_name).then((_app: any) => {\n                if (_app != null) {\n                    const app = new _app();\n                    AppCache[opa_name] = app.GetMainController();\n                    resolve(app.GetMainController());\n                } else {\n\n                }\n            });\n        }\n\n        /*   setTimeout(() => {\n              const app = AppStore.find(app => app.name === app_name)\n              resolve(app.controller)\n          }, 2000\n          ) */\n    })\n\n    const fetchController = input => controllerPromise.then(res => res);\n    const contoller: any = usePromise(fetchController, [opa_name]);\n\n    return (<OPA name={opa_name} controller={contoller} content={content} onSave={onSave}></OPA>)\n};\n\nexport class ViewController extends UIFormController {\n\n\n\n    public override LoadView(): UIView {\n        const { workspaceId,appletId, listId, viewId } = useParams();\n       // alert(viewId)\n        const { document: view, isLoading } = useGetDocument({\n            projectId: workspaceId,\n            databaseId: appletId,\n            collectionId: `wm_list_${listId}_views`,\n            documentId: viewId\n        });\n\n        return (\n            isLoading ? Text('Loading...') :\n                VStack(\n                    HStack({ alignment: cTopLeading })(\n                        VStack({ alignment: cTopLeading })(\n                            HStack(\n\n                                VStack(\n                                    VStack({ alignment: cTopLeading })(\n                                        HStack({ alignment: cTopLeading })(\n                                            ReactView(\n                                                <React.Suspense fallback={\n                                                    <Fragment>\n                                                        {\n                                                            VStack(\n                                                                Spinner()\n                                                            ).render()\n                                                        }\n                                                    </Fragment>\n                                                } >\n                                                    <ErrorBoundary>\n                                                        <OpaLoader view_qn={view.type} content={{}} onSave={(content) => {\n                                                            this.SetValue('content', content);\n\n                                                        }}></OpaLoader>\n                                                    </ErrorBoundary>\n                                                </React.Suspense>\n                                            ).frame(true).width('100%').height('100%')\n                                        )\n                                    ).overflow('hidden')\n\n\n\n                                ).background('white')\n\n                            ),\n                        ).background('#FAFBFC')\n\n                    )\n                )\n        )\n\n    }\n\n}\n\n\n/**\n * NEW: The error boundary has a function component wrapper.\n */\nfunction ErrorBoundary({ children }) {\n    const [hasError, setHasError] = useState(false);\n    const location = useLocation();\n    useEffect(() => {\n        if (hasError) {\n            setHasError(false);\n        }\n    }, [location.key]);\n    return (\n        /**\n         * NEW: The class component error boundary is now\n         *      a child of the functional component.\n         */\n        <ErrorBoundaryInner\n            hasError={hasError}\n            setHasError={setHasError}\n        >\n            {children}\n        </ErrorBoundaryInner>\n    );\n}\n\n\n\n/**\n * NEW: The class component accepts getters and setters for\n *      the parent functional component's error state.\n */\nclass ErrorBoundaryInner extends React.Component<any, any> {\n    private ref;\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false };\n        this.ref = React.createRef();\n    }\n\n    static getDerivedStateFromError(_error) {\n        return { hasError: true };\n    }\n\n    componentDidUpdate(prevProps, _previousState) {\n        if (!this.props.hasError && prevProps.hasError) {\n            this.setState({ hasError: false });\n        }\n    }\n\n    componentDidCatch(_error, _errorInfo) {\n\n        if (_errorInfo && _errorInfo.componentStack) {\n            // The component stack is sometimes useful in development mode\n            // In production it can be somewhat obfuscated, so feel free to omit this line.\n            //console.log(_errorInfo.componentStack);\n        }\n\n\n        _error['Hey'] = 'sdfsdf'\n        _error['Mert'] = 'sdfsdf'\n\n\n        //Tracker.track(_error);\n\n\n        this.props.setHasError(true);\n        this.setState({ errorText: JSON.stringify(_error) });\n    }\n\n    render() {\n        return this.state.hasError\n            ? <p>{this.state.errorText}</p>\n\n\n            : this.props.children;\n    }\n}","import { HStack, Icon, Spacer, UIViewBuilder, useConfig, Text, Fragment, useDialogStack } from \"@tuval/forms\";\nimport React from \"react\";\n\n\nconst fullSize = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\" ><path d=\"M16.25 3H12a.75.75 0 0 0 0 1.5h2.44l-3.47 3.47a.75.75 0 0 0 1.06 1.06l3.47-3.47V8A.75.75 0 0 0 17 8V3.75a.75.75 0 0 0-.75-.75ZM3.75 17H8a.75.75 0 0 0 0-1.5H5.56l3.47-3.47a.75.75 0 1 0-1.06-1.06L4.5 14.44V12A.75.75 0 0 0 3 12v4.25a.75.75 0 0 0 .75.75Z\"></path></svg>\n)\n\nconst activity = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\" ><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.545 4.07A7.417 7.417 0 1 1 2.583 10a.75.75 0 0 1 1.5 0 5.917 5.917 0 1 0 2.62-4.913h.592a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 1.5 0v.733ZM10 5.917a.75.75 0 0 1 .75.75v3.022l1.864 1.864a.75.75 0 0 1-1.061 1.06L9.47 10.53a.75.75 0 0 1-.22-.53V6.667a.75.75 0 0 1 .75-.75Z\"></path></svg>\n)\n\nconst share = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M10.53 2.22a.75.75 0 0 0-1.06 0L6.97 4.72a.75.75 0 0 0 1.06 1.06l1.22-1.22v6.69a.75.75 0 1 0 1.499 0V4.56l1.219 1.22a.75.75 0 1 0 1.06-1.06l-2.499-2.5Z\"></path><path d=\"M5.416 7A2.415 2.415 0 0 0 3 9.417v5.166c0 .225.078.538.17.797.096.267.264.638.537.912.046.046.063.065.085.09.02.022.044.05.099.106.08.085.197.196.363.29.326.182.709.222 1.162.222h9.169c.64 0 1.254-.255 1.707-.708.274-.274.442-.645.537-.912.093-.26.171-.572.171-.797V9.417A2.417 2.417 0 0 0 14.585 7h-.837a.75.75 0 0 0 0 1.5h.837a.916.916 0 0 1 .916.917v5.149c-.001.006-.004.03-.014.074a2.011 2.011 0 0 1-.174.472.57.57 0 0 1-.08.12.916.916 0 0 1-.649.268H5.417c-.282 0-.393-.023-.425-.031a.616.616 0 0 1-.017-.017l-.051-.056-.027-.03a3.96 3.96 0 0 0-.128-.134.569.569 0 0 1-.081-.12 2.039 2.039 0 0 1-.173-.472c-.01-.04-.013-.064-.014-.072V9.416a.917.917 0 0 1 .916-.916h.836a.75.75 0 0 0 0-1.5h-.836Z\"></path></svg>\n)\n\nconst showAttributesPanelIcon = () => (\n    <svg width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M15 12.25a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1 0-1.5h1ZM15.75 10a.75.75 0 0 0-.75-.75h-1a.75.75 0 0 0 0 1.5h1a.75.75 0 0 0 .75-.75ZM15 6.25a.75.75 0 0 1 0 1.5h-1a.75.75 0 0 1 0-1.5h1Z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.25 3A2.25 2.25 0 0 0 2 5.25v9.5A2.25 2.25 0 0 0 4.25 17h11.5A2.25 2.25 0 0 0 18 14.75v-9.5A2.25 2.25 0 0 0 15.75 3H4.25ZM3.5 5.25a.75.75 0 0 1 .75-.75H11v11H4.25a.75.75 0 0 1-.75-.75v-9.5Zm9 10.25v-11h3.25a.75.75 0 0 1 .75.75v9.5a.75.75 0 0 1-.75.75H12.5Z\"></path></svg>\n)\n\nconst selectAttributesIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 10a6 6 0 0 1 6-6h6a6 6 0 0 1 0 12H7a6 6 0 0 1-6-6Zm1.5 0A4.5 4.5 0 0 1 7 5.5h6a4.5 4.5 0 1 1 0 9H7A4.5 4.5 0 0 1 2.5 10Z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13 12.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z\"></path></svg>\n)\n\nconst menuIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M6.5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm3.5 1.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\"></path></svg>\n\n)\n\nconst closeIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M3.728 15.172a.778.778 0 1 0 1.1 1.1L10 11.1l5.172 5.172a.778.778 0 0 0 1.1-1.1L11.1 10l5.172-5.172a.778.778 0 0 0-1.1-1.1L10 8.9 4.828 3.728a.778.778 0 1 0-1.1 1.1L8.9 10l-5.172 5.172Z\"></path></svg>\n\n)\n\nconst favoriteIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\" ><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.469 1.532a1.195 1.195 0 0 1 1.062 0c.289.143.444.397.524.542.086.154.175.354.268.562l1.643 3.685 4.013.424c.226.024.444.047.617.08.162.033.452.101.677.332.262.267.383.64.329 1.01-.047.32-.242.545-.354.666-.12.13-.283.276-.452.429l-2.997 2.7.837 3.948c.047.223.093.437.114.613.02.163.044.46-.106.746-.173.33-.49.562-.859.624-.318.054-.593-.06-.743-.13-.16-.074-.35-.184-.547-.297L10 15.45l-3.496 2.016c-.197.113-.386.223-.547.297-.15.07-.424.184-.742.13a1.195 1.195 0 0 1-.86-.624c-.15-.286-.125-.582-.105-.746.02-.176.066-.39.114-.613l.837-3.947-2.998-2.701c-.169-.153-.331-.3-.452-.429-.112-.121-.306-.347-.353-.666-.054-.37.067-.743.328-1.01.226-.23.516-.3.678-.331.173-.034.39-.057.617-.081l.029-.003 3.984-.42 1.63-3.66.013-.026c.092-.208.181-.408.268-.562.08-.145.235-.399.524-.542Zm.53 1.82-1.604 3.6-.012.029c-.044.1-.122.279-.254.425a1.195 1.195 0 0 1-.402.292c-.18.08-.375.1-.483.11-.011 0-.021.002-.03.003l-3.92.414 2.928 2.639.023.02c.08.072.227.202.326.373.083.145.136.306.153.472a1.56 1.56 0 0 1-.045.493l-.006.03-.818 3.857 3.415-1.97.026-.015c.094-.055.263-.155.456-.196.163-.034.332-.034.496 0 .193.041.362.14.455.196l.027.015 3.415 1.97-.818-3.857a1.56 1.56 0 0 1-.051-.524c.017-.165.07-.326.153-.471.098-.17.245-.3.326-.373a1.87 1.87 0 0 0 .023-.02l2.928-2.64-3.92-.413-.03-.003a1.56 1.56 0 0 1-.483-.11 1.195 1.195 0 0 1-.402-.292 1.558 1.558 0 0 1-.266-.454L10 3.352Z\"></path></svg>\n\n)\n\nconst findIcon = () => (\n\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.75 15.835a7.055 7.055 0 0 0 4.378-1.515l3.782 3.771a.835.835 0 0 0 1.18-1.182l-3.78-3.768a7.085 7.085 0 1 0-5.56 2.694ZM3.335 8.75a5.415 5.415 0 1 1 10.83 0 5.415 5.415 0 0 1-10.83 0Z\"></path></svg>\n\n)\n\nconst copyLinkIcon = () => (\n\n\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"m10.063 10.808 2.06-.03c.55-.001 1.075-.218 1.463-.604a2.054 2.054 0 0 0 .001-2.909 2.07 2.07 0 0 0-1.461-.602L6.757 6.66c-.527 0-1.034.2-1.417.562A2.043 2.043 0 0 0 4.7 8.6l-.011.129a.839.839 0 0 1-1.433.574.829.829 0 0 1-.238-.591A2.276 2.276 0 0 1 3 8.483a3.704 3.704 0 0 1 1.18-2.457 3.739 3.739 0 0 1 2.549-.994L12.133 5c.964.04 1.875.45 2.542 1.142a3.71 3.71 0 0 1-.003 5.154 3.754 3.754 0 0 1-2.543 1.145l-2.02.024a.836.836 0 0 1-.798-.806.83.83 0 0 1 .752-.851Zm-5.024.932a3.726 3.726 0 0 1 1.1-2.628c.7-.697 1.65-1.09 2.64-1.094l2.02-.025a.836.836 0 0 1 .799.807.83.83 0 0 1-.752.85l-2.038.007c-.548 0-1.074.218-1.462.604a2.054 2.054 0 0 0-.001 2.909 2.07 2.07 0 0 0 1.461.601l5.369.004c.527 0 1.035-.201 1.417-.562.383-.361.612-.855.64-1.379l.011-.13a.83.83 0 0 1 .845-.822.837.837 0 0 1 .826.84 3.712 3.712 0 0 1-1.194 2.714 3.747 3.747 0 0 1-2.546.996l-5.375.003a3.756 3.756 0 0 1-2.646-1.075 3.72 3.72 0 0 1-1.114-2.62Z\"></path></svg>\n\n)\n\nconst smileIcon = () => (\n\n\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M12.25 6.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25ZM7.75 6.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 1.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5Zm0 1.5a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5Z\"></path><path d=\"M8.238 11.643a3.707 3.707 0 0 1-.491-.428l-.149-.168a.75.75 0 0 0-1.198.903l.078.097a5.21 5.21 0 0 0 .878.81c.598.435 1.5.893 2.644.893 1.144 0 2.046-.458 2.644-.893a5.21 5.21 0 0 0 .879-.81l.077-.097a.75.75 0 0 0-1.198-.903l-.149.168c-.11.116-.276.272-.491.428-.433.315-1.031.607-1.762.607-.73 0-1.33-.292-1.762-.607Z\"></path></svg>\n\n)\n\nconst filterIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\" ><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.676 2c.258 0 .494 0 .692.016.213.018.446.057.677.175.329.168.596.435.764.765.118.23.157.463.175.676.016.198.016.434.016.692V5.287c0 .225.001.465-.063.697a1.749 1.749 0 0 1-.27.562c-.141.195-.33.345-.505.485l-.044.035-3.799 3.04a6.505 6.505 0 0 0-.228.187.477.477 0 0 0-.043.041.25.25 0 0 0-.039.08.44.44 0 0 0-.005.06 6.424 6.424 0 0 0-.004.295v3.586c0 .286.002.591-.097.874-.085.247-.224.47-.407.656-.21.213-.484.348-.74.474l-.066.031-2.478 1.224c-.17.084-.34.169-.488.226-.154.059-.389.133-.661.091a1.25 1.25 0 0 1-.838-.52 1.288 1.288 0 0 1-.21-.634A6.281 6.281 0 0 1 7 16.239V10.5l-.025-.11a.233.233 0 0 0-.066-.098 6.422 6.422 0 0 0-.228-.187L2.882 7.066l-.044-.035c-.176-.14-.364-.29-.505-.485a1.75 1.75 0 0 1-.27-.562c-.064-.232-.064-.472-.063-.697V4.324c0-.258 0-.494.016-.692.018-.213.057-.446.175-.676a1.75 1.75 0 0 1 .765-.765c.23-.118.463-.157.676-.175C3.83 2 4.092 2 4.35 2h11.326ZM3.633 3.529a.627.627 0 0 1 .121-.018c.13-.01.304-.011.596-.011h11.3c.292 0 .467 0 .596.011a.625.625 0 0 1 .12.018.25.25 0 0 1 .105.104.638.638 0 0 1 .018.121c.01.13.011.304.011.596v.881c0 .149 0 .232-.003.295a.456.456 0 0 1-.006.06.252.252 0 0 1-.03.066c.004-.004-.002.005 0 0-.002.004-.022.03-.052.056a6.58 6.58 0 0 1-.228.187l-3.799 3.039-.044.035c-.176.14-.364.29-.505.485-.123.17-.215.36-.27.562-.064.232-.064.472-.063.697v3.57c0 .19 0 .298-.005.38a.516.516 0 0 1-.009.076.249.249 0 0 1-.058.092.51.51 0 0 1-.064.042c-.07.04-.168.089-.338.173l-2.454 1.212-.072.035v-5.58c0-.225.001-.465-.063-.697a1.75 1.75 0 0 0-.27-.562c-.141-.195-.33-.345-.505-.485l-.044-.035-3.799-3.04a6.484 6.484 0 0 1-.228-.186l-.02-.017a.127.127 0 0 1-.024-.025c-.035-.045-.04-.077-.044-.14a6.488 6.488 0 0 1-.003-.295V4.35c0-.292 0-.467.011-.596a.628.628 0 0 1 .018-.12.25.25 0 0 1 .104-.105Z\"></path></svg>\n)\n\nconst colorIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 3.55a6.45 6.45 0 1 0 0 12.9 1.65 1.65 0 0 0 1.65-1.65v-.532c0-.246 0-.451.029-.636a2.35 2.35 0 0 1 1.953-1.953c.185-.03.39-.03.636-.029h.532A1.65 1.65 0 0 0 16.45 10 6.45 6.45 0 0 0 10 3.55ZM2.05 10a7.95 7.95 0 1 1 15.9 0 3.15 3.15 0 0 1-3.15 3.15h-.48c-.326 0-.402.002-.453.01a.85.85 0 0 0-.707.707c-.008.051-.01.127-.01.453v.48A3.15 3.15 0 0 1 10 17.95 7.95 7.95 0 0 1 2.05 10Zm5.6-3.6a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Zm4 .8a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Zm-6.4 2.4a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Z\"></path></svg>\n)\n\nconst sortIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\" ><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.386 16.777a.75.75 0 0 0 1.061 0l3.333-3.333a.75.75 0 0 0-1.06-1.061l-2.053 2.053V3.75a.75.75 0 0 0-1.5 0v10.686l-2.053-2.053a.75.75 0 0 0-1.061 1.06l3.333 3.334ZM6.083 17a.75.75 0 0 0 .75-.75V5.564l2.053 2.053a.75.75 0 0 0 1.061-1.06L6.614 3.222a.75.75 0 0 0-1.061 0L2.22 6.556a.75.75 0 0 0 1.06 1.061l2.053-2.053V16.25c0 .414.336.75.75.75Z\"></path></svg>\n\n)\n\n\n\n\nexport const ActionsPanelButton = (icon, action = void 0, label = null) => (\n    HStack({spacing: 5})(\n\n        Icon(icon),\n        label ?\n            Text(label)\n                .fontSize(14)\n                .fontFamily('ui-sans-serif,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\"!important')\n                .fontSmoothing('auto')\n                .foregroundColor('#212526') : Fragment()\n\n    )\n        .foregroundColor('rgb(109, 122, 131)')\n        .cursor('pointer')\n        .cornerRadius(6)\n        .padding(10)\n        .background({ hover: 'rgba(109, 122, 131, 0.15)' })\n        .transition('all .15s ease-out')\n        .width(label ? '' : '28px')\n        .height('28px')\n        .onClick(() => {\n            action()\n        })\n)\n\nexport const ActionPanel = () => UIViewBuilder(() => {\n    const { closeDialog } = useDialogStack();\n    return (\n        HStack({ spacing: 5 })(\n            /*   _StatusMarker(task?.stage_id),\n                 EditableHeader(task?.title).size(EditableHeadingSizes.MEDIUM), */\n            ActionsPanelButton(findIcon),\n            ActionsPanelButton(smileIcon),\n            ActionsPanelButton(favoriteIcon),\n            ActionsPanelButton(copyLinkIcon),\n\n\n\n            Spacer(),\n\n            ActionsPanelButton(fullSize),\n            ActionsPanelButton(filterIcon, void 0, 'Filter'),\n            ActionsPanelButton(sortIcon, void 0, 'Sort'),\n            ActionsPanelButton(colorIcon, void 0, 'Color'),\n            /*   ActionsPanelButton(activity),\n              ActionsPanelButton(share),\n              ActionsPanelButton(showAttributesPanelIcon),\n              ActionsPanelButton(selectAttributesIcon), */\n            ActionsPanelButton(menuIcon),\n            ActionsPanelButton(closeIcon, () => {\n                closeDialog();\n            }),\n\n\n            /*  Text('Close').onClick(() => {\n                 navigate(`/@/${getAppFullName()}/team/${team_id}/workspace/${workspace_id}/folder/${folder_id}/applet/${applet_id}/scope/${scope_id}/view/${view_id}`)\n             }) */\n        )\n            .background('white')\n            .height().padding(8)\n    )\n})\n\n","\nimport { EditableHeader, EditableHeadingSizes, Fragment, HStack, Icon, SvgIcon, UIViewBuilder, VStack, cLeading, Text, cTopLeading, cHorizontal, useDialogStack } from \"@tuval/forms\";\n\nimport { is } from \"@tuval/core\";\n\n\nconst fontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", roboto, \"Helvetica Neue\", helvetica, arial, sans-serif'\nexport const DocumentHeader = (header, onHeaderChange = void 0) => UIViewBuilder(() => {\n\n    const { openDialog } = useDialogStack();\n    /*  const { access_type, team_id, applet_id, view_id } = useParams();\n \n     const navigate = useNavigate(); */\n\n    return (\n        VStack({ alignment: cTopLeading })(\n            VStack({ alignment: cTopLeading })(\n                HStack({ alignment: cLeading, spacing: 5 })(\n                    Icon(SvgIcon('svg-sprite-global__comment', '#87909e')),\n                    Text('Add comment').fontFamily('-apple-system, \"system-ui\", \"Segoe UI\", roboto, \"Helvetica Neue\", helvetica, arial, sans-serif')\n                ).foregroundColor('#87909e')\n                    .height(28).width().padding('0 15px').cornerRadius(4).background({ hover: 'rgb(240, 241, 243)' })\n                    .onClick(() => {\n                        openDialog({\n                            title: 'Open',\n                            view: Text('Hans')\n                        })\n                        }),\n                HStack({ alignment: cLeading, spacing: 5 })(\n\n                    //  _StatusMarker(task?.stage_id),\n                    is.string(header) ?\n                        EditableHeader(header).size(EditableHeadingSizes.SMALL)\n                            .onChange((e) => onHeaderChange(e))\n                            .fontSmoothing('auto')\n                            .foregroundColor('#212526')\n                            .fontSize(32)\n                            //.fontFamily(fontFamily)\n                            .fontWeight('500')\n                            .lineHeight('1.25')\n                            .kerning('-0.003em')\n                        :\n                        is.function(header) ? header() : Fragment(),\n                )\n                    .background('white')\n                    .height()\n                    .padding(8).paddingBottom('20px'),\n                HStack({ alignment: cLeading, spacing: 10 })(\n                    HStack({ spacing: 5 })(\n                        HStack(\n                            Text('ST').foregroundColor('white').fontSize(10).fontWeight('500').fontFamily(fontFamily).lineHeight('1.33').kerning('-0.003em')\n                        ).width(20).height(20).cornerRadius('50%').background('rgb(255, 87, 34)'),\n                        Text('You').foregroundColor('#87909e')\n                    ).height().width(),\n                    HStack(\n                        Text('Last Updated: 6/29/23 at 11:27 pm').foregroundColor('#87909e')\n                    ).height().width()\n                ).height().padding(cHorizontal, 15).paddingBottom('5px')\n            ).height()\n                .paddingBottom('10px')\n                .borderBottom('1px solid #F2F2F2')\n        )\n            .padding()\n            .paddingBottom('0px')\n            .height()\n\n\n    )\n\n})","import { useApplet, useRealm, useWidget } from \"@celmino/platform\";\nimport { useGetDocument, useListDocuments, useUpdateDocument } from \"@realmocean/sdk\";\nimport { is } from \"@tuval/core\";\nimport { DialogStack, Fragment, ReactView, ScrollView, UIController, UINavigate, UIView, UIViewBuilder, UIWidget, VStack, cTop, cTopLeading, cVertical, useDialogStack, useParams } from \"@tuval/forms\";\nimport InlineImage from 'editorjs-inline-image';\nimport React, { Fragment as RF } from \"react\";\nimport { SimpleImage } from \"../../tools/SimplePlugin\";\nimport { ActionPanel } from \"../../views/ActionPanel\";\nimport { DocumentHeader } from \"../../views/ViewHeader\";\n\nconst docs = [\n    { uri: \"https://url-to-my-pdf.pdf\" }, // Remote file\n];\n\nexport class DocumentController extends UIController {\n\n\n    public override LoadView(): UIView {\n\n        const { isWidget } = useWidget();\n        const { documentId } = isWidget ? this.props.config : useParams();\n\n        const { realm } = useRealm();\n        const { applet } = useApplet();\n        const workspaceId = realm.$id;\n        const appletId = applet.$id;\n\n\n        const { document, isLoading: isDocumentLoading } = useGetDocument({\n            projectId: workspaceId,\n            databaseId: appletId,\n            collectionId: 'documents',\n            documentId: documentId\n        })\n\n        const { document: content, isLoading } = useGetDocument({\n            projectId: workspaceId,\n            databaseId: appletId,\n            collectionId: 'documentContent',\n            documentId: documentId\n        })\n\n        const { updateDocument } = useUpdateDocument(workspaceId);\n\n        const { documents: applets, isLoading: isAppletsLoading } = useListDocuments(workspaceId, 'workspace', 'applets');\n\n        const { documents: treeItems, isLoading: isTreeItemsLoading } = useListDocuments(workspaceId, 'workspace', 'ws_tree');\n\n        const Stack = isWidget ? RF : DialogStack;\n        return (\n            (isDocumentLoading || isLoading || isAppletsLoading || isTreeItemsLoading) ? Fragment() :\n                ReactView(\n                    <Stack>\n                        {\n                            VStack({ alignment: cTopLeading })(\n                                ActionPanel(),\n                                DocumentHeader(document?.name, (e) => {\n                                    updateDocument({\n                                        databaseId: appletId,\n                                        collectionId: 'documents',\n                                        documentId: documentId,\n                                        data: {\n                                            name: e\n                                        }\n                                    })\n                                }),\n\n                                UIViewBuilder(() => {\n                                    const { openDialog } = useDialogStack();\n                                    // return UIWidget(\"com.tuvalsoft.widget.whiteboard\").config({})\n                                    return (\n\n                                        window.location.hash ?\n\n                                            UIWidget(document?.viewer)\n                                                .config({\n                                                    defaultValue: is.nullOrEmpty(content?.content) ? null : JSON.parse(content.content),\n                                                    clamp: true,\n                                                    workspaceId: workspaceId,\n                                                    appletId: appletId,\n                                                    applets,\n                                                    treeItems,\n                                                    /*   tools: {\n                                                          image: {\n                                                              class: InlineImage,\n                                                              inlineToolbar: true,\n                                                              config: {\n                                                                  embed: {\n                                                                      display: true,\n                                                                  },\n                                                                  unsplash: {\n                                                                      appName: 'your_app_name',\n                                                                      clientId: 'your_client_id'\n                                                                  }\n                                                              }\n                                                          },\n                                                          link: {\n                                                              class: SimpleImage,\n                                                              inlineToolbar: true,\n                                                              shortcut: 'CMD+SHIFT+W',\n                                                              config: {\n                                                                  workspaceId: workspaceId,\n                                                                  appletId: appletId,\n                                                                  openDialog\n\n                                                              },\n                                                          }\n                                                      }, */\n                                                    onChange: (data) => {\n                                                        console.log(data)\n                                                        updateDocument({\n                                                            databaseId: appletId,\n                                                            collectionId: 'documentContent',\n                                                            documentId: documentId,\n                                                            data: {\n                                                                content: JSON.stringify(data)\n                                                            }\n                                                        })\n                                                    }\n                                                })\n\n\n\n                                            : UINavigate('##')\n                                    )\n                                })\n\n                            )\n                                .background('white')\n                                .render()\n                        }\n                    </Stack>\n                )\n\n\n        )\n    }\n\n}\n\n\nexport class HashController extends UIController {\n    public override LoadView(): UIView {\n        return (\n            UINavigate('##')\n        )\n    }\n\n}\n","import { UIController, UIView, useParams, Routes, Text, UIWidget, VStack, ReactView, DialogStack, Fragment } from \"@tuval/forms\";\nimport { ActionPanel } from \"../../views/ActionPanel\";\nimport { DocumentHeader } from \"../../views/ViewHeader\";\nimport React from \"react\";\nimport { useGetDocument, useUpdateDocument } from \"@realmocean/sdk\";\nimport { is } from \"@tuval/core\";\n\nexport class WhiteboardController extends UIController {\n\n\n    public override LoadView(): UIView {\n        const { workspaceId,appletId, whiteboardId } = useParams();\n        const { document } = useGetDocument({\n            projectId: workspaceId,\n            databaseId: appletId,\n            collectionId: 'wm_whiteboards',\n            documentId: whiteboardId\n        })\n\n        const { document: content, isLoading } = useGetDocument({\n            projectId: workspaceId,\n            databaseId: appletId,\n            collectionId: 'wm_whiteboard_contents',\n            documentId: whiteboardId\n        })\n\n        const { updateDocument } = useUpdateDocument(workspaceId);\n\n        return (\n            isLoading ? Fragment() :\n                ReactView(\n                    <DialogStack>\n                        {\n                            VStack(\n                                ActionPanel(),\n                                DocumentHeader(document?.name, (e)=> {\n                                    updateDocument({\n                                        databaseId: appletId,\n                                        collectionId: 'wm_whiteboards',\n                                        documentId: whiteboardId,\n                                        data: {\n                                            name: e\n                                        }\n                                    })\n                                }),\n                                UIWidget('com.tuvalsoft.widget.whiteboard')\n                                    .config({\n                                        defaultValue: is.nullOrEmpty(content?.content) ? null : JSON.parse(content.content),\n                                        onChange: (data) => {\n                                            console.log(data)\n                                            updateDocument({\n                                                databaseId: appletId,\n                                                collectionId: 'wm_whiteboard_contents',\n                                                documentId: whiteboardId,\n                                                data: {\n                                                    content: JSON.stringify(data)\n                                                }\n                                            })\n                                        }\n                                    })\n                            )\n                                .background('white')\n                                .render()\n                        }\n                    </DialogStack>\n                )\n\n        )\n    }\n\n}","import { useApplet, useRealm } from \"@celmino/platform\";\nimport { Query, useGetDocument, useListDocuments, useUpdateDocument } from \"@realmocean/sdk\";\nimport { DialogStack, Fragment, HStack, Icon, ReactView, SvgIcon, Text, UIController, UIView, cLeading, useParams } from \"@tuval/forms\";\nimport React from \"react\";\nimport { FolderView } from \"./view/FolderView\";\n\nexport class FolderController extends UIController {\n\n\n    public override LoadView(): UIView {\n\n\n        const { folderId } = useParams();\n        const {realm} = useRealm();\n        const {applet} = useApplet();\n        const workspaceId = realm.$id;\n        const appletId = applet.$id; \n        const { document } = useGetDocument({\n            projectId: workspaceId,\n            databaseId: appletId,\n            collectionId: 'folders',\n            documentId: folderId\n        })\n\n        const { documents: folders, isLoading: isFoldersLoading } = useListDocuments(workspaceId, appletId, 'folders', [\n            Query.equal('parent', folderId)\n        ]);\n        const { documents: documents, isLoading } = useListDocuments(workspaceId, appletId, 'documents', [\n            Query.equal('parent', folderId)\n        ]);\n\n\n        const { updateDocument } = useUpdateDocument(workspaceId);\n\n        return (\n            \n               (isFoldersLoading || isLoading) ? Fragment() :\n                   ReactView(\n                       <DialogStack title={\n                           HStack({ alignment: cLeading, spacing: 5 })(\n                               Icon(SvgIcon('cu3-icon-sidebarFolder', '#151719', '18px', '18px')).transform('rotate(90deg)'),\n                               Text('Folder - ' + document?.name)\n                           ) as any\n                       }>\n                           {\n                               FolderView(workspaceId, folderId)\n                                   .render()\n                           }\n                       </DialogStack>\n                   )  \n\n        )\n    }\n\n}","import { VStack, UIViewBuilder, useDialogStack, cTopLeading, ForEach, HStack, cLeading, ReactView, Text, useOptions, useParams, Spinner, Fragment, Spacer } from \"@tuval/forms\";\nimport { ActionPanel } from \"../../../views/ActionPanel\";\nimport { ProxyController } from \"../ProxyController\";\nimport { DocumentName } from \"./DocumentName\";\nimport { FolderHeader } from \"./FolderHeader\";\nimport { FolderName } from \"./FolderName\";\nimport { Query, useGetDocument, useListDocuments, useUpdateDocument } from \"@realmocean/sdk\";\nimport React from \"react\";\nimport { TestController } from \"../TestController\";\nimport { moment } from \"@tuval/core\";\n\n\nexport const FolderView = (workspaceId: string, folderId: string) => UIViewBuilder(() => {\n\n    const { appletId } = useParams();\n    const { document } = useGetDocument({\n        projectId: workspaceId,\n        databaseId: 'workspace',\n        collectionId: 'ws_tree',\n        documentId: folderId\n    })\n\n    /*  const { documents: folders, isLoading: isFoldersLoading } = useListDocuments(workspaceId, appletId, 'dm_folders', [\n         Query.equal('parent', folderId)\n     ]); */\n    const { documents: documents, isLoading: isDocumentsLoading } = useListDocuments(workspaceId, 'workspace', 'ws_tree', [\n        Query.equal('parent', folderId)\n    ]);\n\n\n    const { updateDocument } = useUpdateDocument(workspaceId);\n\n    return (\n        isDocumentsLoading ? Fragment() :\n            VStack(\n                ActionPanel(),\n                FolderHeader(document?.name, (e) => {\n                    updateDocument({\n                        databaseId: appletId,\n                        collectionId: 'dm_documents',\n                        documentId: folderId,\n                        data: {\n                            name: e\n                        }\n                    })\n                }),\n                UIViewBuilder(() => {\n                    const { openDialog } = useDialogStack();\n                    return (\n                        HStack({ alignment: cTopLeading })(\n                           /*  (Table as any)()\n                                .height()\n                                .columns([\n                                    {\n                                        id: 'type',\n                                        loadingStateType: 'medium-text',\n                                        title: 'Name',\n                                        width: '50%',\n                                        view: (row) => (\n                                            HStack(\n                                                row['type'] === 'folder' ?\n                                                    FolderName(row) :\n                                                    row['type'] === 'document' ?\n                                                        DocumentName(row) : Fragment()\n                                            )\n                                                .onClick(() => {\n                                                    row['type'] === 'folder' ?\n                                                        openDialog({\n                                                            title: row.name,\n                                                            view: UIViewBuilder(() => {\n                                                                return (\n                                                                    FolderView(workspaceId, row.$id)\n                                                                )\n                                                            })\n                                                        }) :\n                                                        openDialog({\n                                                            title: row.name,\n                                                            view: UIViewBuilder(() => {\n                                                                const DocumentProxyController = class extends ProxyController { };\n                                                                return (\n                                                                    ReactView(\n                                                                        <DocumentProxyController workspaceId={workspaceId} appletId={appletId} documentId={row.$id} > </DocumentProxyController>\n                                                                    )\n                                                                )\n                                                            })\n                                                        })\n\n                                                })\n                                        )\n                                    },\n\n                                    {\n                                        id: '$createdAt',\n                                        loadingStateType: 'medium-text',\n                                        title: 'Created',\n                                        width: '50%',\n                                        format: (value) => moment(value).format('DD.MM.YYYY HH:mm:ss')\n                                    }\n\n\n                                ])\n                                .isLoading(isDocumentsLoading)\n                                .rows([].concat(documents?.map(document => ({ ...document }))))  */\n                        )\n                            .padding()\n                    )\n                }),\n                Spacer()\n            )\n                .background('white')\n    )\n})","\n//Icon(isOpen ? SvgIcon('cu3-icon-sidebarFolderOpen', '#151719', '18px', '18px') : SvgIcon('cu3-icon-sidebarFolder', '#151719', '18px', '18px'))\nimport { EditableHeader, EditableHeadingSizes, Fragment, HStack, Icon, SvgIcon, UIViewBuilder, VStack, cLeading, Text, cTopLeading, cHorizontal, useDialogStack } from \"@tuval/forms\";\n\nimport { is } from \"@tuval/core\";\n\n\nconst fontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", roboto, \"Helvetica Neue\", helvetica, arial, sans-serif'\nexport const FolderHeader = (header, onHeaderChange = void 0) => UIViewBuilder(() => {\n\n    const { openDialog } = useDialogStack();\n    /*  const { access_type, team_id, applet_id, view_id } = useParams();\n \n     const navigate = useNavigate(); */\n\n    return (\n        VStack({ alignment: cTopLeading })(\n            VStack({ alignment: cTopLeading })(\n                HStack({ alignment: cLeading, spacing: 5 })(\n                    Icon(SvgIcon('svg-sprite-global__comment', '#87909e')),\n                    Text('Add comment').fontFamily('-apple-system, \"system-ui\", \"Segoe UI\", roboto, \"Helvetica Neue\", helvetica, arial, sans-serif')\n                ).foregroundColor('#87909e')\n                    .height(28).width().padding('0 15px').cornerRadius(4).background({ hover: 'rgb(240, 241, 243)' })\n                    .onClick(() => {\n                        openDialog({\n                            title: 'Open',\n                            view: Text('Hans')\n                        })\n                    }),\n                HStack({ alignment: cLeading, spacing: 5 })(\n                    HStack(\n                        //  _StatusMarker(task?.stage_id),\n                        Icon(SvgIcon('cu3-icon-sidebarFolder', '#151719', '36px', '36px')),\n                        is.string(header) ?\n                            EditableHeader(header).size(EditableHeadingSizes.SMALL)\n                                .onChange((e) => onHeaderChange(e))\n                                .fontSmoothing('auto')\n                                .foregroundColor('#212526')\n                                .fontSize(28)\n                                //.fontFamily(fontFamily)\n                                .fontWeight('500')\n                                .lineHeight('1.25')\n                                .kerning('-0.003em')\n                            :\n                            is.function(header) ? header() : Fragment()\n                    ),\n                )\n                    .background('white')\n                    .height()\n                    .padding(8).paddingBottom('20px'),\n                HStack({ alignment: cLeading, spacing: 10 })(\n                    HStack({ spacing: 5 })(\n                        HStack(\n                            Text('ST').foregroundColor('white').fontSize(10).fontWeight('500').fontFamily(fontFamily).lineHeight('1.33').kerning('-0.003em')\n                        ).width(20).height(20).cornerRadius('50%').background('rgb(255, 87, 34)'),\n                        Text('You').foregroundColor('#87909e')\n                    ).height().width(),\n                    HStack(\n                        Text('Last Updated: 6/29/23 at 11:27 pm').foregroundColor('#87909e')\n                    ).height().width()\n                ).height().padding(cHorizontal, 15).paddingBottom('5px')\n            ).height()\n                .paddingBottom('10px')\n                .borderBottom('1px solid #F2F2F2')\n        )\n            .padding()\n            .paddingBottom('0px')\n            .height()\n\n\n    )\n\n})","import { useApplet, useAppletNavigate, useRealm } from \"@celmino/platform\";\n\nimport { ForEach, HStack, Heading, Icon, SvgIcon, Text, UIFormController, UIRouteOutlet, VStack, cHorizontal, cLeading, cTopLeading } from \"@tuval/forms\";\n\nexport function getSettingsName() {\n    var url = window.location.href;\n\n    // Regex deseni\n    var regexPattern = /\\/settings\\/([^\\/]+)/;\n\n    // Regex eşleşmesi\n    var matches = url.match(regexPattern);\n\n    // Eğer eşleşme varsa, list parametresini al\n    if (matches && matches.length > 1) {\n        return matches[1];\n\n    } else {\n        return;\n    }\n\n}\n\nexport class SettingsController extends UIFormController {\n\n\n    public LoadView() {\n        const { realm } = useRealm();\n        const { applet } = useApplet();\n        const workspaceId = realm.$id;\n        const appletId = applet.$id;\n\n        const menu = [\n            {\n                id: 'general',\n                title: 'General',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/general`,\n                icon: SvgIcon('cu3-icon-settings')\n            },\n            {\n                id: 'import',\n                title: 'Document Types',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/import`,\n                icon: SvgIcon('cu3-icon-importIcon')\n            },\n            {\n                id: 'features',\n                title: 'Features',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/features`,\n                icon: SvgIcon('cu3-icon-settings')\n            },\n            {\n                id: 'collections',\n                title: 'Collections',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/collections`,\n                icon: SvgIcon('cu3-icon-settings')\n            },\n            {\n                id: 'import',\n                title: 'Integrations',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/import`,\n                icon: SvgIcon('cu3-icon-importIcon')\n            },\n            {\n                id: 'security',\n                title: 'Security & Permissions ',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/security`,\n                icon: SvgIcon('cu3-icon-protectedAlt')\n            },\n            {\n                id: 'import',\n                title: 'Imports / Exports',\n                url: `/@/workspace/${workspaceId}/applet/${appletId}/settings/import`,\n                icon: SvgIcon('cu3-icon-importIcon')\n            },\n\n\n\n\n        ]\n\n        const {navigate} = useAppletNavigate();\n        // \n        return (\n            HStack(\n                VStack({ alignment: cTopLeading })(\n                    HStack({ alignment: cLeading })(\n                        Heading('DOCUMENT APPLET').h3().foregroundColor('rgb(101, 111, 125)')\n                            .fontSize(11).fontWeight('600')\n                    ).padding('16px 8px 8px').height()\n                    ,\n                    ...ForEach(menu)(item =>\n                        HStack({ alignment: cLeading, spacing: 8 })(\n                            Icon(item.icon).foregroundColor(item.id === getSettingsName() ? 'rgb(84, 77, 201)' : 'rgb(42, 46, 52)'),\n                            Text(item.title).fontSize(14).foregroundColor(item.id === getSettingsName() ? 'rgb(84, 77, 201)' : 'rgb(42, 46, 52)')\n                                .fontFamily('-apple-system, \"system-ui\", \"Segoe UI\", roboto, \"Helvetica Neue\", helvetica, arial, sans-serif')\n                                .lineHeight(16) as any\n\n\n                        ).height(32)\n\n                            .cornerRadius(6)\n                            .background({ default: item.id === getSettingsName() ? '#E5E4FC' : '', hover: '#E8EAED' })\n                            .padding(cHorizontal, 8)\n                            .cursor('pointer')\n                            .onClick(() => {\n                                navigate(`settings/${item.id}`);\n                            })\n                    )\n                ).padding()\n                    .background('#F7F8F9')\n                    .allWidth(240)\n                    .margin('0 8px'),\n                UIRouteOutlet().width('100%').height('100%')\n            )\n\n        )\n    }\n\n}","import { ForEach, HStack, UIFormController, UIImage, VStack, cLeading, cTop, cTopLeading, Text } from \"@tuval/forms\";\n\n\n\nconst settings = [\n    {\n        key: 'isVersionManagementActive',\n        title: 'Version',\n        description: 'Is version management active'\n    },\n    {\n        key: 'isVersionManagementActive',\n        title: 'Document Metadata',\n        description: 'Is version management active'\n    },\n    {\n        key: 'isVersionManagementActive',\n        title: 'Security',\n        description: 'Is version management active'\n    },\n    {\n        key: 'isVersionManagementActive',\n        title: 'E-mail',\n        description: 'Is version management active'\n    },\n    {\n        key: 'isVersionManagementActive',\n        title: 'History',\n        description: 'Is version management active'\n    }\n]\nexport class FeatureSettingsController extends UIFormController {\n    public LoadView() {\n\n        return (\n            VStack({ alignment: cTopLeading })(\n                HStack({ alignment: cLeading })(\n                    Text('Features').fontSize(24).fontWeight('600')\n                    .foregroundColor('rgb(42, 46, 52)')\n                    .lineHeight(32) as any\n                )\n                .height()\n                .margin('0 0 30px'),\n                HStack({ alignment: cTopLeading })(\n                    ...ForEach(settings)(setting =>\n                        VStack({ alignment: cTop })(\n                            VStack()\n                                .background('#7f77f1')\n                                .cornerRadius('4px 4px 0 0')\n                                .height(4),\n                            HStack(\n                                UIImage('/images/version.png')\n                                .maxWidth('100%')\n                                .maxHeight('100%')\n                            )\n                         \n                                .width(268)\n                                .height(180),\n    \n    \n                                Text(setting.title)\n                                .fontSize(17)\n                                .fontWeight('500')\n                                .lineHeight(24)\n                                .foregroundColor('#505050')\n                                .marginBottom('12px')\n                                .padding('0 15px')\n                                .transition('all .2s cubic-bezier(.785,.135,.15,.86) 0s') as any,\n    \n      \n                            Text(setting.description)\n                            .lineHeight(18)\n                            .fontSize(12)\n                            .foregroundColor('rgb(42, 46, 52)') as any\n                        )\n                            .background('rgb(247, 248, 249)')\n                            .border('1px solid rgb(232, 234, 237)')\n                            .padding('0 0 30px')\n                            .margin('0 8px 30px')\n                            .width(270)\n                            .transition('all .2s cubic-bezier(.785,.135,.15,.86) 0s')\n                            .allHeight(370)\n                            .cornerRadius(4)\n                            .shadow({ hover: '0 4px 15px #0000001a' })\n                    )\n                )\n                .wrap('wrap')\n                    .padding('24px 48px')\n            )\n            .padding('24px 48px')\n            \n        )\n    }\n\n}","import { useApplet, useRealm } from '@celmino/platform';\nimport { useUpdateDocument } from \"@realmocean/sdk\";\nimport { EventBus } from \"@tuval/core\";\nimport { HStack, Text, TextField, UIFormController, UIWidget, VStack, cLeading, cTopLeading } from \"@tuval/forms\";\n\nexport class GeneralSettingsController extends UIFormController {\n    public LoadView() {\n\n        const { realm } = useRealm();\n        const { applet } = useApplet();\n        const workspaceId = realm.$id;\n        const appletId = applet.$id;\n\n       \n        const { updateDocument } = useUpdateDocument(workspaceId);\n\n        return (\n            VStack({ alignment: cTopLeading })(\n                HStack({ alignment: cLeading })(\n                    Text('General').fontSize(24).fontWeight('600')\n                        .foregroundColor('rgb(42, 46, 52)')\n                        .lineHeight(32) as any\n                )\n                    .height()\n                    .margin('0 0 30px'),\n                HStack({ alignment: cLeading })(\n                    Text('Applet').fontSize(20).fontWeight('600')\n                        .foregroundColor('rgb(42, 46, 52)')\n                        .lineHeight(32) as any\n                )\n                    .height()\n                    .margin('0 0 30px'),\n                HStack({ alignment: cLeading, spacing: 10 })(\n                    HStack({ alignment: cLeading })(\n                        Text('Name').fontSize(16).fontWeight('600')\n                            .foregroundColor('rgb(42, 46, 52)')\n                            .lineHeight(32) as any\n                    ).height().width(300),\n                    HStack(\n                        TextField()\n                            .value(applet?.name)\n                            .border('0')\n                            .outline({ focus: 'none' })\n                            .shadow('rgba(224, 227, 230, 0.7) 0px 0px 0px 1px')\n                            .padding(12)\n                            .cornerRadius(6)\n                    ).height().width(400)\n                )\n                    .height()\n                    .margin('0 0 30px'),\n\n                HStack({ alignment: cLeading, spacing: 10 })(\n                    HStack({ alignment: cLeading })(\n                        Text('Icon').fontSize(16).fontWeight('600')\n                            .foregroundColor('rgb(42, 46, 52)')\n                            .lineHeight(32) as any\n                    ).height().width(300),\n                    HStack(\n                        UIWidget(\"com.tuvalsoft.widget.icons\")\n                            .config({\n                                onChange: (value) => {\n                                    updateDocument({\n                                        databaseId: 'workspace',\n                                        collectionId: 'applets',\n                                        documentId: appletId,\n                                        data: {\n                                            iconName: value.iconName,\n                                            iconCategory: value.iconCategory\n                                        }\n                                    }, () => {\n                                        updateDocument({\n                                            databaseId: 'workspace',\n                                            collectionId: 'ws_tree',\n                                            documentId: appletId,\n                                            data: {\n                                                iconName: value.iconName,\n                                                iconCategory: value.iconCategory\n                                            }\n                                        }, () => {\n                                            EventBus.Default.fire('applet.added', { treeItem: value })\n                                        })\n                                    })\n                                },\n                                selectedIcon: applet?.iconName,\n                                color: applet?.themeColor,\n                                selectedCategory: applet?.iconCategory,\n                                width: 32,\n                                height: 32\n                            })\n                    )\n                        .border('1px dashed rgba(69,104,251,.3)')\n                        .transition('border-color .12s ease-in-out')\n                        .cornerRadius(6)\n                        .padding(4)\n                        //.background('#FCE8E8')\n                        .width(44).height(44).cornerRadius(5),\n\n\n                )\n                    .height()\n                    .margin('0 0 30px'),\n                HStack({ alignment: cLeading, spacing: 10 })(\n                    HStack({ alignment: cLeading })(\n                        Text('Theme Color')\n                            .fontSize(16).fontWeight('600')\n                            .foregroundColor('rgb(42, 46, 52)')\n                            .lineHeight(32) as any,\n                    ).height().width(300)\n                )\n                    .height()\n                    .margin('0 0 30px'),\n            )\n                .padding('24px 48px')\n        )\n    }\n\n}","import { UIController, UIRoute, UIRoutes, UIView, UIViewBuilder, UIWidget, VStack } from \"@tuval/forms\";\nimport { MyTestController } from \"../AppController\";\nimport { ViewController } from \"./list-[listId]/view-[viewId]/+controller\";\nimport { DocumentController } from \"./document-[documentId]/+controller\";\nimport { ListController } from \"./list-[listId]/+controller.ts\";\nimport { WhiteboardController } from \"./whiteboard-[whiteboardId]/+controller\";\nimport { FolderController } from \"./folder-[folderId]/+controller\";\nimport { SettingsController } from \"./settings/+controller\";\nimport { FeatureSettingsController } from \"./settings/features/+controller\";\nimport { GeneralSettingsController } from \"./settings/general/+controller\";\n\n\nexport class RouteController extends UIController {\n\n    private routeView() {\n        return (\n            UIViewBuilder(() =>\n                VStack(\n                    UIRoutes(\n                        UIRoute('/', MyTestController).children(\n                         /*    UIRoute('list/:listId', ListController).children(\n                                UIRoute('view/:viewId', class extends  ViewController {}),\n                            ), */\n                            UIRoute('f/:folderId',   class extends  FolderController {} ),\n                            UIRoute('d/:documentId',  window.location.hash ? DocumentController : class extends  DocumentController {  } ),\n                            UIRoute('whiteboard/:whiteboardId',   class extends  WhiteboardController {} ),\n                            UIRoute(':view_id', ViewController),\n                            UIRoute(':view_id/*', ViewController)\n                        ),\n                        UIRoute('/settings', SettingsController).children(\n                            UIRoute('features', FeatureSettingsController),\n                            UIRoute('general', GeneralSettingsController)\n                        )\n                    )\n                )\n                    .background('var(--primary-background-color)')\n            )\n\n\n        )\n    }\n    public LoadView(): UIView {\n\n     \n\n       return this.routeView();\n       \n\n\n\n\n    }\n}","\nimport { FormBuilder } from '@celmino/platform';\nimport { TreeController } from './TreeController';\nimport { SaveDocumentAction } from './dialogs/AddDocumentDialog';\nimport { SaveFolderAction } from './dialogs/AddFolderDialog';\nimport { RouteController } from './routes/+routes';\nimport { DocumentController } from './routes/document-[documentId]/+controller';\n\nconst manifest = require('./manifest');\n\ndeclare var tuval$core;\n\nfunction App(manifest: any) {\n    return <T extends { new(...args: any[]): {} }>(constructor: T) => {\n        if (tuval$core['__APPS__'] == null) {\n            tuval$core['__APPS__'] = {};\n        }\n        tuval$core['__APPS__'][manifest.application.name] = constructor;\n    }\n}\n\n\n\n@App(manifest)\nexport class ProcessMining {\n    public GetMainController() {\n        return {\n            applet: RouteController,\n            tree: TreeController,\n            documentView: DocumentController\n        };\n    }\n}\n\nFormBuilder.injectAction(SaveFolderAction);\nFormBuilder.injectAction(SaveDocumentAction);\n\n\n\n"],"names":["__values","this","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__read","n","r","e","ar","push","error","__spreadArray","to","from","pack","arguments","l","Array","prototype","slice","concat","deepEqual","promiseCaches","module","exports","promise","inputs","lifespan","e_1","_a","promiseCaches_1","promiseCaches_1_1","promiseCache_1","Object","hasOwnProperty","response","e_1_1","return","promiseCache","apply","then","catch","setTimeout","index","indexOf","splice","isArray","keyList","keys","hasProp","equal","a","b","key","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","toString","application","name","path","displayName","icon","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","d","definition","defineProperty","enumerable","get","obj","prop","celmino$platform","tuval$forms","realmocean$sdk","tuval$core","realmocean$atlaskit","SaveDocumentAction","formMeta","action","UIViewBuilder","label","successAction","successActions","dialog","useFormController","useDialog","useFormBuilder","useNavigate","workspaceId","appletId","createDocument","createWorkspaceTreeItem","useCreateDocument","isLoading","createDocumentContent","formData","useFormState","values","errors","LoadingButton","appearance","onClick","data","document","documentId","$id","content","type","parent","tree_widget","iconName","iconCategory","item","EventBus","treeItem","Hide","Id","nanoid","viewer","alert","SaveFolderAction","folder","TreeController","UIController","LoadView","isEditing","setIsEditing","useState","onItemSelected","props","config","isAnonymous","useAccount","realm","useRealm","applet","useApplet","navigate","useAppletNavigate","updateDocument","useUpdateDocument","deleteApplet","useDeleteApplet","UIWidget","node","appletName","editingChanged","status","canDrag","titleChanged","title","databaseId","collectionId","subNodes","TreeNode","level","nodeType","parentId","requestMenu","SvgIcon","DynoDialog","AddMarkdownDialog","AddWhiteboardDialog","ContextMenu","requestEditMenu","Services","collections","collection","color","requestNavigation","urlFriendly","MyTestController","UIFormController","UIRouteOutlet","width","height","tuval$react","OPA","Name","constructor","super","state","render","controller","onSave","AppCache","OpaLoader","view_qn","opa_name","useLocation","controllerPromise","Promise","resolve","reject","app_path_local","ModuleLoader","_app","app","GetMainController","contoller","input","res","ViewController","listId","viewId","useParams","view","useGetDocument","projectId","Text","VStack","HStack","alignment","cTopLeading","ReactView","fallback","Fragment","Spinner","ErrorBoundary","SetValue","frame","overflow","background","children","hasError","setHasError","location","useEffect","ErrorBoundaryInner","ref","static","_error","componentDidUpdate","prevProps","_previousState","setState","componentDidCatch","_errorInfo","componentStack","errorText","JSON","stringify","fullSize","viewBox","xmlns","fill","menuIcon","closeIcon","favoriteIcon","findIcon","copyLinkIcon","smileIcon","filterIcon","colorIcon","sortIcon","ActionsPanelButton","spacing","Icon","fontSize","fontFamily","fontSmoothing","foregroundColor","cursor","cornerRadius","padding","hover","transition","ActionPanel","closeDialog","useDialogStack","Spacer","DocumentHeader","header","onHeaderChange","openDialog","cLeading","is","EditableHeader","size","EditableHeadingSizes","onChange","fontWeight","lineHeight","kerning","paddingBottom","cHorizontal","borderBottom","DocumentController","isWidget","useWidget","isDocumentLoading","documents","applets","isAppletsLoading","useListDocuments","treeItems","isTreeItemsLoading","Stack","DialogStack","window","hash","defaultValue","parse","clamp","console","log","UINavigate","WhiteboardController","whiteboardId","FolderController","folderId","folders","isFoldersLoading","Query","transform","isDocumentsLoading","FolderHeader","FolderView","getSettingsName","matches","href","match","SettingsController","menu","id","url","Heading","h3","ForEach","default","allWidth","margin","settings","description","FeatureSettingsController","setting","cTop","UIImage","maxWidth","maxHeight","marginBottom","border","allHeight","shadow","wrap","GeneralSettingsController","TextField","outline","focus","selectedIcon","themeColor","selectedCategory","RouteController","routeView","UIRoutes","UIRoute","manifest","ProcessMining","tree","documentView","App","FormBuilder"],"sourceRoot":""}