
/*! *****************************************************************************************************************************
* Copyright (c) Tuvalsoft Corporation. All rights reserved.                                                                     *
*                                                                                                                               *
* ████████╗██╗   ██╗██╗   ██╗ █████╗ ██╗         ███████╗██████╗  █████╗ ███╗   ███╗███████╗██╗    ██╗ ██████╗ ██████╗ ██╗  ██╗ *
* ╚══██╔══╝██║   ██║██║   ██║██╔══██╗██║         ██╔════╝██╔══██╗██╔══██╗████╗ ████║██╔════╝██║    ██║██╔═══██╗██╔══██╗██║ ██╔╝ *
*    ██║   ██║   ██║██║   ██║███████║██║         █████╗  ██████╔╝███████║██╔████╔██║█████╗  ██║ █╗ ██║██║   ██║██████╔╝█████╔╝  *
*    ██║   ██║   ██║╚██╗ ██╔╝██╔══██║██║         ██╔══╝  ██╔══██╗██╔══██║██║╚██╔╝██║██╔══╝  ██║███╗██║██║   ██║██╔══██╗██╔═██╗  *
*    ██║   ╚██████╔╝ ╚████╔╝ ██║  ██║███████╗    ██║     ██║  ██║██║  ██║██║ ╚═╝ ██║███████╗╚███╔███╔╝╚██████╔╝██║  ██║██║  ██╗ *
*    ╚═╝    ╚═════╝   ╚═══╝  ╚═╝  ╚═╝╚══════╝    ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝ ╚══╝╚══╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝ *
*                                                                                                                               *
*                                                                                                                               *
* This file is part of Tuval Framework.                                                                                         *
* Copyright (c) Tuvalsoft 2019 All rights reserved.                                                                             *
*                                                                                                                               *
* Licensed under the GNU General Public License v3.0.                                                                           *
* More info at: https://choosealicense.com/licenses/gpl-3.0/                                                                    *
* Tuval Framework Created By Tuvalsoft in 2019   
* Document Applet                                                                                   *
******************************************************************************************************************************@*/
(()=>{var e={751:function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,a,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)r.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return r},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,a=0,i=t.length;a<i;a++)!o&&a in t||(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))},r=n(99),l=[];e.exports=function(e,t,n){var c,d;void 0===n&&(n=0);try{for(var s=o(l),u=s.next();!u.done;u=s.next()){var p=u.value;if(r(t,p.inputs)){if(Object.prototype.hasOwnProperty.call(p,"error"))throw p.error;if(Object.prototype.hasOwnProperty.call(p,"response"))return p.response;throw p.promise}}}catch(e){c={error:e}}finally{try{u&&!u.done&&(d=s.return)&&d.call(s)}finally{if(c)throw c.error}}var g={promise:e.apply(void 0,i([],a(t),!1)).then((function(e){g.response=e})).catch((function(e){g.error=e})).then((function(){n>0&&setTimeout((function(){var e=l.indexOf(g);-1!==e&&l.splice(e,1)}),n)})),inputs:t};throw l.push(g),g.promise}},99:e=>{"use strict";var t=Array.isArray,n=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(a,i){if(a===i)return!0;if(a&&i&&"object"==typeof a&&"object"==typeof i){var r,l,c,d=t(a),s=t(i);if(d&&s){if((l=a.length)!=i.length)return!1;for(r=l;0!=r--;)if(!e(a[r],i[r]))return!1;return!0}if(d!=s)return!1;var u=a instanceof Date,p=i instanceof Date;if(u!=p)return!1;if(u&&p)return a.getTime()==i.getTime();var g=a instanceof RegExp,m=i instanceof RegExp;if(g!=m)return!1;if(g&&m)return a.toString()==i.toString();var h=n(a);if((l=h.length)!==n(i).length)return!1;for(r=l;0!=r--;)if(!o.call(i,h[r]))return!1;for(r=l;0!=r--;)if(!e(a[c=h[r]],i[c]))return!1;return!0}return a!=a&&i!=i}},906:e=>{e.exports={application:{name:"com.celmino.applet.document-management",path:"./src/Application.ts",displayName:"Procetra",icon:"data:image/svg+xml;base64,PHN2ZyBpZD0iZjc4ZjUxMTUtYmU4OC00ZDQ0LWIzNGUtM2Y2ZWE3NDMxMjVjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImI2YzQzYmQ5LWUzN2YtNDE5MS05M2MyLWQzYTdhODRjNTA1ZSIgeDE9IjkiIHkxPSIxOS4xMyIgeDI9IjkiIHkyPSItMC4yOSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAwNzhkNCIgLz48c3RvcCBvZmZzZXQ9IjAuMTYiIHN0b3AtY29sb3I9IiMxMzgwZGEiIC8+PHN0b3Agb2Zmc2V0PSIwLjUzIiBzdG9wLWNvbG9yPSIjM2M5MWU1IiAvPjxzdG9wIG9mZnNldD0iMC44MiIgc3RvcC1jb2xvcj0iIzU1OWNlYyIgLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1ZWEwZWYiIC8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHRpdGxlPkljb24tbWFjaGluZWxlYXJuaW5nLTE2MjwvdGl0bGU+PHBhdGggZD0iTTE4LDExLjM4QTQsNCwwLDAsMCwxNC40OSw3LjUsNS4xLDUuMSwwLDAsMCw5LjI0LDIuNjIsNS4yNSw1LjI1LDAsMCwwLDQuMjIsNiw0LjgsNC44LDAsMCwwLDAsMTAuNjdhNC45LDQuOSwwLDAsMCw1LjA3LDQuNzFsLjQ0LDBoOC4yMWEuNzguNzgsMCwwLDAsLjIyLDBBNC4xLDQuMSwwLDAsMCwxOCwxMS4zOFoiIGZpbGw9InVybCgjYjZjNDNiZDktZTM3Zi00MTkxLTkzYzItZDNhN2E4NGM1MDVlKSIgLz48cGF0aCBkPSJNNS40MiwxMC4zOUg0LjU0YTEuMDksMS4wOSwwLDEsMCwwLC40OWguODhhLjIuMiwwLDAsMSwuMi4ydjQuM2guNDl2LTQuM0EuNjkuNjksMCwwLDAsNS40MiwxMC4zOVptLTEuOTUuODhhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDMuNDcsMTEuMjdaIiBmaWxsPSIjOWNlYmZmIiAvPjxwYXRoIGQ9Ik04Ljk0LDEwLjYxdi0xYS43LjcsMCwwLDAtLjctLjdINi42OWEuMi4yLDAsMCwxLS4yLS4yVjMuNGwtLjIzLjEyTDYsMy42NnY1YS42OS42OSwwLDAsMCwuNjkuNjlIOC4yNGEuMjEuMjEsMCwwLDEsLjIxLjIxdjFhMS4wOCwxLjA4LDAsMCwwLS44NSwxLjA2LDEuMDksMS4wOSwwLDEsMCwxLjM0LTEuMDZabS0uMjUsMS43aDBhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDguNjksMTIuMzFaIiBmaWxsPSIjZjJmMmYyIiAvPjxwYXRoIGQ9Ik0xNC41Myw4LjVhMS4wOSwxLjA5LDAsMCwwLS4yNSwyLjE1di4yYS4yMS4yMSwwLDAsMS0uMjEuMjFoLTJWNy41NGEuNjkuNjksMCwwLDAtLjY5LS42OUgxMC4zNUExLjA4LDEuMDgsMCwwLDAsOS4yOSw2YTEuMDksMS4wOSwwLDEsMCwxLjA2LDEuMzRoMS4wN2EuMi4yLDAsMCwxLC4yLjJ2Ny44NGguNDlWMTEuNTVoMmEuNy43LDAsMCwwLC43LS43di0uMmExLjA5LDEuMDksMCwwLDAsLjg1LTEuMDZoMEExLjA5LDEuMDksMCwwLDAsMTQuNTMsOC41Wk05LjI5LDcuNzNoMGEuNjQuNjQsMCwxLDEsLjY0LS42NEEuNjQuNjQsMCwwLDEsOS4yOSw3LjczWm01LjI0LDIuNWgwYS42NC42NCwwLDEsMSwuNjMtLjY0QS42NC42NCwwLDAsMSwxNC41MywxMC4yM1oiIGZpbGw9IiM5Y2ViZmYiIC8+PC9zdmc+"}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=celmino$platform,t=tuval$forms,o=realmocean$sdk,a=tuval$core,i=realmocean$atlaskit,r=(e,n)=>(0,t.UIViewBuilder)((()=>{const{label:r,successAction:l,successActions:c}=n,d=((0,t.useFormController)(),(0,t.useDialog)());(0,t.useFormBuilder)(),(0,t.useNavigate)();const{workspaceId:s,appletId:u}=e,{createDocument:p}=(0,o.useCreateDocument)(s,"workspace","ws_tree"),{createDocument:g,isLoading:m}=(0,o.useCreateDocument)(s,u,"documents"),{createDocument:h}=(0,o.useCreateDocument)(s,u,"documentContent"),w=(0,i.useFormState)({values:!0,errors:!0});return(0,i.LoadingButton)().appearance("primary").label("Save").onClick((()=>{var e;const t=null!==(e=null==w?void 0:w.values)&&void 0!==e?e:{};g({data:Object.assign({},t)},(e=>{h({documentId:e.$id,data:{content:""}},(e=>{p({documentId:e.$id,data:{name:t.name,type:"document",parent:t.parent,tree_widget:"com.celmino.applet.document-management",appletId:u,path:(new Date).getTime().toString(),iconName:"document",iconCategory:"SystemIcons"}},(e=>{a.EventBus.Default.fire("applet.added",{treeItem:e}),d.Hide()}))}))}))}))}));r.Id=(0,t.nanoid)();const l=(e,t,n,o,a="document",i="com.tuvalsoft.widget.editorjs")=>{if(null!=e)return{title:"Create document",workspaceId:e,appletId:t,actions:[{label:"Save",type:r.Id}],fieldMap:{list_name:{label:"name",type:"text",name:"name"},type:{name:"type",type:"virtual",value:a},parent:{name:"parent",type:"virtual",value:n},path:{name:"path",type:"virtual",value:o},viewer:{name:"viewer",type:"virtual",value:i}}};alert("spaceId is null")},c=(e,n)=>(0,t.UIViewBuilder)((()=>{const{label:r,successAction:l,successActions:c}=n,d=((0,t.useFormController)(),(0,t.useDialog)());(0,t.useFormBuilder)(),(0,t.useNavigate)();const{workspaceId:s,appletId:u}=e,{createDocument:p}=(0,o.useCreateDocument)(s,"workspace","ws_tree"),{createDocument:g,isLoading:m}=(0,o.useCreateDocument)(s,u,"folders"),h=(0,i.useFormState)({values:!0,errors:!0});return(0,i.LoadingButton)().appearance("primary").label("Save").onClick((()=>{g({data:Object.assign({},h.values)},(e=>{p({documentId:e.$id,data:{name:h.values.name,type:"folder",parent:h.values.parent,tree_widget:"com.celmino.applet.document-management",appletId:u,path:(new Date).getTime().toString(),iconName:"cu3-icon-sidebarFolder",iconCategory:"SvgIcons"}},(e=>{a.EventBus.Default.fire("applet.added",{treeItem:e}),d.Hide()}))}))}))}));c.Id=(0,t.nanoid)();class d extends t.UIController{LoadView(){const[n,i]=(0,t.useState)(!1),{item:d,onItemSelected:s}=this.props.config||{},{isAnonymous:u}=(0,e.useAccount)(),{realm:p}=(0,e.useRealm)(),{applet:g}=(0,e.useApplet)(),m=p.$id,h=g.$id,{navigate:w}=(0,e.useAppletNavigate)(),{updateDocument:I}=(0,o.useUpdateDocument)(m),{deleteApplet:v}=(0,e.useDeleteApplet)();return(0,t.UIWidget)("com.celmino.widget.applet-tree").config({node:d,workspaceId:m,appletId:d.appletId,appletName:d.name,iconName:d.iconName,iconCategory:d.iconCategory,isEditing:n,editingChanged:e=>{d.canDrag=!e,i(e)},titleChanged:e=>{I({databaseId:"workspace",collectionId:"applets",documentId:h,data:{name:e}},(()=>{I({databaseId:"workspace",collectionId:"ws_tree",documentId:d.$id,data:{name:e}},(()=>{a.EventBus.Default.fire("applet.added",{treeItem:d})}))}))},subNodes:(e,t,n,o,a,i)=>[],requestMenu:n=>u?[]:((n,o,a="-1",i="/")=>[{title:"Folder",icon:(0,t.SvgIcon)("cu3-icon-sidebarFolderOpen","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(((e,t,n,o)=>{if(null!=e)return{title:"Create folder",workspaceId:e,appletId:t,actions:[{label:"Save",type:c.Id}],fieldMap:{folder_name:{label:"Name",type:"text",name:"name"},parent:{name:"parent",type:"virtual",value:n}}};alert("spaceId is null")})(n,o,a))},{title:"Document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,o,a,i,"document","com.tuvalsoft.widget.blocknote"))},{title:"Markdown Document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(((e,t,n,o,a="document")=>{if(null!=e)return{title:"Create document",workspaceId:e,appletId:t,actions:[{label:"Save",type:r.Id}],fieldMap:{list_name:{label:"name",type:"text",name:"name"},type:{name:"type",type:"virtual",value:a},parent:{name:"parent",type:"virtual",value:n},path:{name:"path",type:"virtual",value:o},viewer:{name:"viewer",type:"virtual",value:"com.tuvalsoft.widget.markdown"}}};alert("spaceId is null")})(n,o,a,i,"document"))},{title:"Whiteboard Document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(((e,t,n,o,a="document")=>{if(null!=e)return{title:"Create document",workspaceId:e,appletId:t,actions:[{label:"Save",type:r.Id}],fieldMap:{list_name:{label:"name",type:"text",name:"name"},type:{name:"type",type:"virtual",value:a},parent:{name:"parent",type:"virtual",value:n},path:{name:"path",type:"virtual",value:o},viewer:{name:"viewer",type:"virtual",value:"com.tuvalsoft.widget.whiteboard"}}};alert("spaceId is null")})(n,o,a,i,"document"))},{title:"Wiki document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,o,a,i,"wiki"))},{title:"Word document",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,o,a,i,"word"))},{title:"Spreadsheet",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,o,a,i,"document","com.tuvalsoft.widget.spreadsheet"))},{title:"Google sheets",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,o,a,i,"com.tuvalsoft.widget.google-sheets-embedded"))},{title:"Google sheets",icon:(0,t.SvgIcon)("cu3-icon-sidebarDoc","#151719","18px","18px"),onClick:()=>e.DynoDialog.Show(l(n,o,a,i,"com.tuvalsoft.widget.google-sheets-embedded"))},{type:"Divider"},{title:"More Applets",icon:(0,t.SvgIcon)("svg-sprite-activity-template-merged")}])(m,n.appletId,n.$id),requestEditMenu:e=>u?[]:[{title:"Rename "+d.name,icon:(0,t.SvgIcon)("svg-sprite-global__edit","#151719","18px","18px"),onClick:()=>i(!0)},{title:"Applet settings",icon:(0,t.SvgIcon)("svg-sprite-global__settings","#151719","18px","18px"),onClick:()=>w("settings/general")},{title:"Applet settings",icon:(0,t.SvgIcon)("svg-sprite-global__settings","#151719","18px","18px"),onClick:()=>{o.Services.Databases.listCollections(m,h).then((e=>{alert(e.collections);for(let t of e.collections)o.Services.Databases.deleteAllDocument(m,h,t.$id)}))}},{title:"Delete Applet",icon:(0,t.SvgIcon)("svg-sprite-global__delete","#bc4841","18px","18px"),color:"#bc4841",onClick:()=>{v(g.$id,(()=>{a.EventBus.Default.fire("applet.added",{treeItem:d})}))}}],requestNavigation:()=>{if(null==s)switch(d.type){case"folder":w(`f/${(0,t.urlFriendly)(d.name)}-[${d.$id}]`,!1);break;case"document":w(`d/${(0,t.urlFriendly)(d.name)}-[${d.$id}]`,!1)}else s({workspaceId:m,appletId:d.appletId,item:d})}})}}class s extends t.UIFormController{LoadView(){return(0,t.UIRouteOutlet)().width("100%").height("100%")}}const u=tuval$react;var p=n.n(u),g=n(751),m=n.n(g);class h extends p().Component{get Name(){return this.props.name}constructor(e){super(e),this.state={}}render(){return p().createElement(this.props.controller,{content:this.props.content,onSave:this.props.onSave})}}const w={},I=({view_qn:e,content:n,onSave:o})=>{let i=e;(0,t.useLocation)();const r=new Promise(((e,t)=>{if(w[i])e(w[i]);else{const t=`/system/${i}.app`;a.ModuleLoader.LoadBundledModule(t,i).then((t=>{if(null!=t){const n=new t;w[i]=n.GetMainController(),e(n.GetMainController())}}))}})),l=m()((e=>r.then((e=>e))),[i]);return p().createElement(h,{name:i,controller:l,content:n,onSave:o})};class v extends t.UIFormController{LoadView(){const{workspaceId:e,appletId:n,listId:a,viewId:i}=(0,t.useParams)(),{document:r,isLoading:l}=(0,o.useGetDocument)({projectId:e,databaseId:n,collectionId:`wm_list_${a}_views`,documentId:i});return l?(0,t.Text)("Loading..."):(0,t.VStack)((0,t.HStack)({alignment:t.cTopLeading})((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)((0,t.VStack)((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cTopLeading})((0,t.ReactView)(p().createElement(p().Suspense,{fallback:p().createElement(u.Fragment,null,(0,t.VStack)((0,t.Spinner)()).render())},p().createElement(S,null,p().createElement(I,{view_qn:r.type,content:{},onSave:e=>{this.SetValue("content",e)}})))).frame(!0).width("100%").height("100%"))).overflow("hidden")).background("white"))).background("#FAFBFC")))}}function S({children:e}){const[n,o]=(0,t.useState)(!1),a=(0,t.useLocation)();return(0,t.useEffect)((()=>{n&&o(!1)}),[a.key]),p().createElement(f,{hasError:n,setHasError:o},e)}class f extends p().Component{constructor(e){super(e),this.state={hasError:!1},this.ref=p().createRef()}static getDerivedStateFromError(e){return{hasError:!0}}componentDidUpdate(e,t){!this.props.hasError&&e.hasError&&this.setState({hasError:!1})}componentDidCatch(e,t){t&&t.componentStack,e.Hey="sdfsdf",e.Mert="sdfsdf",this.props.setHasError(!0),this.setState({errorText:JSON.stringify(e)})}render(){return this.state.hasError?p().createElement("p",null,this.state.errorText):this.props.children}}const L=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M16.25 3H12a.75.75 0 0 0 0 1.5h2.44l-3.47 3.47a.75.75 0 0 0 1.06 1.06l3.47-3.47V8A.75.75 0 0 0 17 8V3.75a.75.75 0 0 0-.75-.75ZM3.75 17H8a.75.75 0 0 0 0-1.5H5.56l3.47-3.47a.75.75 0 1 0-1.06-1.06L4.5 14.44V12A.75.75 0 0 0 3 12v4.25a.75.75 0 0 0 .75.75Z"})),x=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M6.5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm3.5 1.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z"})),D=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M3.728 15.172a.778.778 0 1 0 1.1 1.1L10 11.1l5.172 5.172a.778.778 0 0 0 1.1-1.1L11.1 10l5.172-5.172a.778.778 0 0 0-1.1-1.1L10 8.9 4.828 3.728a.778.778 0 1 0-1.1 1.1L8.9 10l-5.172 5.172Z"})),C=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.469 1.532a1.195 1.195 0 0 1 1.062 0c.289.143.444.397.524.542.086.154.175.354.268.562l1.643 3.685 4.013.424c.226.024.444.047.617.08.162.033.452.101.677.332.262.267.383.64.329 1.01-.047.32-.242.545-.354.666-.12.13-.283.276-.452.429l-2.997 2.7.837 3.948c.047.223.093.437.114.613.02.163.044.46-.106.746-.173.33-.49.562-.859.624-.318.054-.593-.06-.743-.13-.16-.074-.35-.184-.547-.297L10 15.45l-3.496 2.016c-.197.113-.386.223-.547.297-.15.07-.424.184-.742.13a1.195 1.195 0 0 1-.86-.624c-.15-.286-.125-.582-.105-.746.02-.176.066-.39.114-.613l.837-3.947-2.998-2.701c-.169-.153-.331-.3-.452-.429-.112-.121-.306-.347-.353-.666-.054-.37.067-.743.328-1.01.226-.23.516-.3.678-.331.173-.034.39-.057.617-.081l.029-.003 3.984-.42 1.63-3.66.013-.026c.092-.208.181-.408.268-.562.08-.145.235-.399.524-.542Zm.53 1.82-1.604 3.6-.012.029c-.044.1-.122.279-.254.425a1.195 1.195 0 0 1-.402.292c-.18.08-.375.1-.483.11-.011 0-.021.002-.03.003l-3.92.414 2.928 2.639.023.02c.08.072.227.202.326.373.083.145.136.306.153.472a1.56 1.56 0 0 1-.045.493l-.006.03-.818 3.857 3.415-1.97.026-.015c.094-.055.263-.155.456-.196.163-.034.332-.034.496 0 .193.041.362.14.455.196l.027.015 3.415 1.97-.818-3.857a1.56 1.56 0 0 1-.051-.524c.017-.165.07-.326.153-.471.098-.17.245-.3.326-.373a1.87 1.87 0 0 0 .023-.02l2.928-2.64-3.92-.413-.03-.003a1.56 1.56 0 0 1-.483-.11 1.195 1.195 0 0 1-.402-.292 1.558 1.558 0 0 1-.266-.454L10 3.352Z"})),y=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.75 15.835a7.055 7.055 0 0 0 4.378-1.515l3.782 3.771a.835.835 0 0 0 1.18-1.182l-3.78-3.768a7.085 7.085 0 1 0-5.56 2.694ZM3.335 8.75a5.415 5.415 0 1 1 10.83 0 5.415 5.415 0 0 1-10.83 0Z"})),k=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"m10.063 10.808 2.06-.03c.55-.001 1.075-.218 1.463-.604a2.054 2.054 0 0 0 .001-2.909 2.07 2.07 0 0 0-1.461-.602L6.757 6.66c-.527 0-1.034.2-1.417.562A2.043 2.043 0 0 0 4.7 8.6l-.011.129a.839.839 0 0 1-1.433.574.829.829 0 0 1-.238-.591A2.276 2.276 0 0 1 3 8.483a3.704 3.704 0 0 1 1.18-2.457 3.739 3.739 0 0 1 2.549-.994L12.133 5c.964.04 1.875.45 2.542 1.142a3.71 3.71 0 0 1-.003 5.154 3.754 3.754 0 0 1-2.543 1.145l-2.02.024a.836.836 0 0 1-.798-.806.83.83 0 0 1 .752-.851Zm-5.024.932a3.726 3.726 0 0 1 1.1-2.628c.7-.697 1.65-1.09 2.64-1.094l2.02-.025a.836.836 0 0 1 .799.807.83.83 0 0 1-.752.85l-2.038.007c-.548 0-1.074.218-1.462.604a2.054 2.054 0 0 0-.001 2.909 2.07 2.07 0 0 0 1.461.601l5.369.004c.527 0 1.035-.201 1.417-.562.383-.361.612-.855.64-1.379l.011-.13a.83.83 0 0 1 .845-.822.837.837 0 0 1 .826.84 3.712 3.712 0 0 1-1.194 2.714 3.747 3.747 0 0 1-2.546.996l-5.375.003a3.756 3.756 0 0 1-2.646-1.075 3.72 3.72 0 0 1-1.114-2.62Z"})),b=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{d:"M12.25 6.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25ZM7.75 6.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z"}),p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 1.75a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5Zm0 1.5a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5Z"}),p().createElement("path",{d:"M8.238 11.643a3.707 3.707 0 0 1-.491-.428l-.149-.168a.75.75 0 0 0-1.198.903l.078.097a5.21 5.21 0 0 0 .878.81c.598.435 1.5.893 2.644.893 1.144 0 2.046-.458 2.644-.893a5.21 5.21 0 0 0 .879-.81l.077-.097a.75.75 0 0 0-1.198-.903l-.149.168c-.11.116-.276.272-.491.428-.433.315-1.031.607-1.762.607-.73 0-1.33-.292-1.762-.607Z"})),M=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.676 2c.258 0 .494 0 .692.016.213.018.446.057.677.175.329.168.596.435.764.765.118.23.157.463.175.676.016.198.016.434.016.692V5.287c0 .225.001.465-.063.697a1.749 1.749 0 0 1-.27.562c-.141.195-.33.345-.505.485l-.044.035-3.799 3.04a6.505 6.505 0 0 0-.228.187.477.477 0 0 0-.043.041.25.25 0 0 0-.039.08.44.44 0 0 0-.005.06 6.424 6.424 0 0 0-.004.295v3.586c0 .286.002.591-.097.874-.085.247-.224.47-.407.656-.21.213-.484.348-.74.474l-.066.031-2.478 1.224c-.17.084-.34.169-.488.226-.154.059-.389.133-.661.091a1.25 1.25 0 0 1-.838-.52 1.288 1.288 0 0 1-.21-.634A6.281 6.281 0 0 1 7 16.239V10.5l-.025-.11a.233.233 0 0 0-.066-.098 6.422 6.422 0 0 0-.228-.187L2.882 7.066l-.044-.035c-.176-.14-.364-.29-.505-.485a1.75 1.75 0 0 1-.27-.562c-.064-.232-.064-.472-.063-.697V4.324c0-.258 0-.494.016-.692.018-.213.057-.446.175-.676a1.75 1.75 0 0 1 .765-.765c.23-.118.463-.157.676-.175C3.83 2 4.092 2 4.35 2h11.326ZM3.633 3.529a.627.627 0 0 1 .121-.018c.13-.01.304-.011.596-.011h11.3c.292 0 .467 0 .596.011a.625.625 0 0 1 .12.018.25.25 0 0 1 .105.104.638.638 0 0 1 .018.121c.01.13.011.304.011.596v.881c0 .149 0 .232-.003.295a.456.456 0 0 1-.006.06.252.252 0 0 1-.03.066c.004-.004-.002.005 0 0-.002.004-.022.03-.052.056a6.58 6.58 0 0 1-.228.187l-3.799 3.039-.044.035c-.176.14-.364.29-.505.485-.123.17-.215.36-.27.562-.064.232-.064.472-.063.697v3.57c0 .19 0 .298-.005.38a.516.516 0 0 1-.009.076.249.249 0 0 1-.058.092.51.51 0 0 1-.064.042c-.07.04-.168.089-.338.173l-2.454 1.212-.072.035v-5.58c0-.225.001-.465-.063-.697a1.75 1.75 0 0 0-.27-.562c-.141-.195-.33-.345-.505-.485l-.044-.035-3.799-3.04a6.484 6.484 0 0 1-.228-.186l-.02-.017a.127.127 0 0 1-.024-.025c-.035-.045-.04-.077-.044-.14a6.488 6.488 0 0 1-.003-.295V4.35c0-.292 0-.467.011-.596a.628.628 0 0 1 .018-.12.25.25 0 0 1 .104-.105Z"})),j=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 3.55a6.45 6.45 0 1 0 0 12.9 1.65 1.65 0 0 0 1.65-1.65v-.532c0-.246 0-.451.029-.636a2.35 2.35 0 0 1 1.953-1.953c.185-.03.39-.03.636-.029h.532A1.65 1.65 0 0 0 16.45 10 6.45 6.45 0 0 0 10 3.55ZM2.05 10a7.95 7.95 0 1 1 15.9 0 3.15 3.15 0 0 1-3.15 3.15h-.48c-.326 0-.402.002-.453.01a.85.85 0 0 0-.707.707c-.008.051-.01.127-.01.453v.48A3.15 3.15 0 0 1 10 17.95 7.95 7.95 0 0 1 2.05 10Zm5.6-3.6a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Zm4 .8a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Zm-6.4 2.4a1.15 1.15 0 1 1 2.3 0 1.15 1.15 0 0 1-2.3 0Z"})),E=()=>p().createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor","aria-hidden":"true"},p().createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.386 16.777a.75.75 0 0 0 1.061 0l3.333-3.333a.75.75 0 0 0-1.06-1.061l-2.053 2.053V3.75a.75.75 0 0 0-1.5 0v10.686l-2.053-2.053a.75.75 0 0 0-1.061 1.06l3.333 3.334ZM6.083 17a.75.75 0 0 0 .75-.75V5.564l2.053 2.053a.75.75 0 0 0 1.061-1.06L6.614 3.222a.75.75 0 0 0-1.061 0L2.22 6.556a.75.75 0 0 0 1.06 1.061l2.053-2.053V16.25c0 .414.336.75.75.75Z"})),N=(e,n=undefined,o=null)=>(0,t.HStack)({spacing:5})((0,t.Icon)(e),o?(0,t.Text)(o).fontSize(14).fontFamily('ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"!important').fontSmoothing("auto").foregroundColor("#212526"):(0,t.Fragment)()).foregroundColor("rgb(109, 122, 131)").cursor("pointer").cornerRadius(6).padding(10).background({hover:"rgba(109, 122, 131, 0.15)"}).transition("all .15s ease-out").width(o?"":"28px").height("28px").onClick((()=>{n()})),A=()=>(0,t.UIViewBuilder)((()=>{const{closeDialog:e}=(0,t.useDialogStack)();return(0,t.HStack)({spacing:5})(N(y),N(b),N(C),N(k),(0,t.Spacer)(),N(L),N(M,void 0,"Filter"),N(E,void 0,"Sort"),N(j,void 0,"Color"),N(x),N(D,(()=>{e()}))).background("white").height().padding(8)})),H=(e,n=undefined)=>(0,t.UIViewBuilder)((()=>{const{openDialog:o}=(0,t.useDialogStack)();return(0,t.VStack)({alignment:t.cTopLeading})((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.Icon)((0,t.SvgIcon)("svg-sprite-global__comment","#87909e")),(0,t.Text)("Add comment").fontFamily('-apple-system, "system-ui", "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif')).foregroundColor("#87909e").height(28).width().padding("0 15px").cornerRadius(4).background({hover:"rgb(240, 241, 243)"}).onClick((()=>{o({title:"Open",view:(0,t.Text)("Hans")})})),(0,t.HStack)({alignment:t.cLeading,spacing:5})(a.is.string(e)?(0,t.EditableHeader)(e).size(t.EditableHeadingSizes.SMALL).onChange((e=>n(e))).fontSmoothing("auto").foregroundColor("#212526").fontSize(32).fontWeight("500").lineHeight("1.25").kerning("-0.003em"):a.is.function(e)?e():(0,t.Fragment)()).background("white").height().padding(8).paddingBottom("20px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({spacing:5})((0,t.HStack)((0,t.Text)("ST").foregroundColor("white").fontSize(10).fontWeight("500").fontFamily('-apple-system, BlinkMacSystemFont, "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif').lineHeight("1.33").kerning("-0.003em")).width(20).height(20).cornerRadius("50%").background("rgb(255, 87, 34)"),(0,t.Text)("You").foregroundColor("#87909e")).height().width(),(0,t.HStack)((0,t.Text)("Last Updated: 6/29/23 at 11:27 pm").foregroundColor("#87909e")).height().width()).height().padding(t.cHorizontal,15).paddingBottom("5px")).height().paddingBottom("10px").borderBottom("1px solid #F2F2F2")).padding().paddingBottom("0px").height()}));class T extends t.UIController{LoadView(){const{isWidget:n}=(0,e.useWidget)(),{documentId:i}=n?this.props.config:(0,t.useParams)(),{realm:r}=(0,e.useRealm)(),{applet:l}=(0,e.useApplet)(),c=r.$id,d=l.$id,{document:s,isLoading:g}=(0,o.useGetDocument)({projectId:c,databaseId:d,collectionId:"documents",documentId:i}),{document:m,isLoading:h}=(0,o.useGetDocument)({projectId:c,databaseId:d,collectionId:"documentContent",documentId:i}),{updateDocument:w}=(0,o.useUpdateDocument)(c),{documents:I,isLoading:v}=(0,o.useListDocuments)(c,"workspace","applets"),{documents:S,isLoading:f}=(0,o.useListDocuments)(c,"workspace","ws_tree"),L=n?u.Fragment:t.DialogStack;return g||h||v||f?(0,t.Fragment)():(0,t.ReactView)(p().createElement(L,null,(0,t.VStack)({alignment:t.cTopLeading})(A(),H(null==s?void 0:s.name,(e=>{w({databaseId:d,collectionId:"documents",documentId:i,data:{name:e}})})),(0,t.UIViewBuilder)((()=>{const{openDialog:e}=(0,t.useDialogStack)();return window.location.hash?(0,t.UIWidget)(null==s?void 0:s.viewer).config({defaultValue:a.is.nullOrEmpty(null==m?void 0:m.content)?null:JSON.parse(m.content),clamp:!0,workspaceId:c,appletId:d,applets:I,treeItems:S,onChange:e=>{console.log(e),w({databaseId:d,collectionId:"documentContent",documentId:i,data:{content:JSON.stringify(e)}})}}):(0,t.UINavigate)("##")}))).background("white").render()))}}class V extends t.UIController{LoadView(){const{workspaceId:e,appletId:n,whiteboardId:i}=(0,t.useParams)(),{document:r}=(0,o.useGetDocument)({projectId:e,databaseId:n,collectionId:"wm_whiteboards",documentId:i}),{document:l,isLoading:c}=(0,o.useGetDocument)({projectId:e,databaseId:n,collectionId:"wm_whiteboard_contents",documentId:i}),{updateDocument:d}=(0,o.useUpdateDocument)(e);return c?(0,t.Fragment)():(0,t.ReactView)(p().createElement(t.DialogStack,null,(0,t.VStack)(A(),H(null==r?void 0:r.name,(e=>{d({databaseId:n,collectionId:"wm_whiteboards",documentId:i,data:{name:e}})})),(0,t.UIWidget)("com.tuvalsoft.widget.whiteboard").config({defaultValue:a.is.nullOrEmpty(null==l?void 0:l.content)?null:JSON.parse(l.content),onChange:e=>{console.log(e),d({databaseId:n,collectionId:"wm_whiteboard_contents",documentId:i,data:{content:JSON.stringify(e)}})}})).background("white").render()))}}class U extends t.UIController{LoadView(){const{folderId:n}=(0,t.useParams)(),{realm:i}=(0,e.useRealm)(),{applet:r}=(0,e.useApplet)(),l=i.$id,c=r.$id,{document:d}=(0,o.useGetDocument)({projectId:l,databaseId:c,collectionId:"folders",documentId:n}),{documents:s,isLoading:u}=(0,o.useListDocuments)(l,c,"folders",[o.Query.equal("parent",n)]),{documents:g,isLoading:m}=(0,o.useListDocuments)(l,c,"documents",[o.Query.equal("parent",n)]),{updateDocument:h}=(0,o.useUpdateDocument)(l);return u||m?(0,t.Fragment)():(0,t.ReactView)(p().createElement(t.DialogStack,{title:(0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.Icon)((0,t.SvgIcon)("cu3-icon-sidebarFolder","#151719","18px","18px")).transform("rotate(90deg)"),(0,t.Text)("Folder - "+(null==d?void 0:d.name)))},((e,n)=>(0,t.UIViewBuilder)((()=>{const{appletId:i}=(0,t.useParams)(),{document:r}=(0,o.useGetDocument)({projectId:e,databaseId:"workspace",collectionId:"ws_tree",documentId:n}),{documents:l,isLoading:c}=(0,o.useListDocuments)(e,"workspace","ws_tree",[o.Query.equal("parent",n)]),{updateDocument:d}=(0,o.useUpdateDocument)(e);return c?(0,t.Fragment)():(0,t.VStack)(A(),((e,n=undefined)=>(0,t.UIViewBuilder)((()=>{const{openDialog:o}=(0,t.useDialogStack)();return(0,t.VStack)({alignment:t.cTopLeading})((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.Icon)((0,t.SvgIcon)("svg-sprite-global__comment","#87909e")),(0,t.Text)("Add comment").fontFamily('-apple-system, "system-ui", "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif')).foregroundColor("#87909e").height(28).width().padding("0 15px").cornerRadius(4).background({hover:"rgb(240, 241, 243)"}).onClick((()=>{o({title:"Open",view:(0,t.Text)("Hans")})})),(0,t.HStack)({alignment:t.cLeading,spacing:5})((0,t.HStack)((0,t.Icon)((0,t.SvgIcon)("cu3-icon-sidebarFolder","#151719","36px","36px")),a.is.string(e)?(0,t.EditableHeader)(e).size(t.EditableHeadingSizes.SMALL).onChange((e=>n(e))).fontSmoothing("auto").foregroundColor("#212526").fontSize(28).fontWeight("500").lineHeight("1.25").kerning("-0.003em"):a.is.function(e)?e():(0,t.Fragment)())).background("white").height().padding(8).paddingBottom("20px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({spacing:5})((0,t.HStack)((0,t.Text)("ST").foregroundColor("white").fontSize(10).fontWeight("500").fontFamily('-apple-system, BlinkMacSystemFont, "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif').lineHeight("1.33").kerning("-0.003em")).width(20).height(20).cornerRadius("50%").background("rgb(255, 87, 34)"),(0,t.Text)("You").foregroundColor("#87909e")).height().width(),(0,t.HStack)((0,t.Text)("Last Updated: 6/29/23 at 11:27 pm").foregroundColor("#87909e")).height().width()).height().padding(t.cHorizontal,15).paddingBottom("5px")).height().paddingBottom("10px").borderBottom("1px solid #F2F2F2")).padding().paddingBottom("0px").height()})))(null==r?void 0:r.name,(e=>{d({databaseId:i,collectionId:"dm_documents",documentId:n,data:{name:e}})})),(0,t.UIViewBuilder)((()=>{const{openDialog:e}=(0,t.useDialogStack)();return(0,t.HStack)({alignment:t.cTopLeading})().padding()})),(0,t.Spacer)()).background("white")})))(l,n).render()))}}function F(){var e=window.location.href.match(/\/settings\/([^\/]+)/);return e&&e.length>1?e[1]:void 0}class Z extends t.UIFormController{LoadView(){const{realm:n}=(0,e.useRealm)(),{applet:o}=(0,e.useApplet)(),a=n.$id,i=o.$id,r=[{id:"general",title:"General",url:`/@/workspace/${a}/applet/${i}/settings/general`,icon:(0,t.SvgIcon)("cu3-icon-settings")},{id:"import",title:"Document Types",url:`/@/workspace/${a}/applet/${i}/settings/import`,icon:(0,t.SvgIcon)("cu3-icon-importIcon")},{id:"features",title:"Features",url:`/@/workspace/${a}/applet/${i}/settings/features`,icon:(0,t.SvgIcon)("cu3-icon-settings")},{id:"collections",title:"Collections",url:`/@/workspace/${a}/applet/${i}/settings/collections`,icon:(0,t.SvgIcon)("cu3-icon-settings")},{id:"import",title:"Integrations",url:`/@/workspace/${a}/applet/${i}/settings/import`,icon:(0,t.SvgIcon)("cu3-icon-importIcon")},{id:"security",title:"Security & Permissions ",url:`/@/workspace/${a}/applet/${i}/settings/security`,icon:(0,t.SvgIcon)("cu3-icon-protectedAlt")},{id:"import",title:"Imports / Exports",url:`/@/workspace/${a}/applet/${i}/settings/import`,icon:(0,t.SvgIcon)("cu3-icon-importIcon")}],{navigate:l}=(0,e.useAppletNavigate)();return(0,t.HStack)((0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading})((0,t.Heading)("DOCUMENT APPLET").h3().foregroundColor("rgb(101, 111, 125)").fontSize(11).fontWeight("600")).padding("16px 8px 8px").height(),...(0,t.ForEach)(r)((e=>(0,t.HStack)({alignment:t.cLeading,spacing:8})((0,t.Icon)(e.icon).foregroundColor(e.id===F()?"rgb(84, 77, 201)":"rgb(42, 46, 52)"),(0,t.Text)(e.title).fontSize(14).foregroundColor(e.id===F()?"rgb(84, 77, 201)":"rgb(42, 46, 52)").fontFamily('-apple-system, "system-ui", "Segoe UI", roboto, "Helvetica Neue", helvetica, arial, sans-serif').lineHeight(16)).height(32).cornerRadius(6).background({default:e.id===F()?"#E5E4FC":"",hover:"#E8EAED"}).padding(t.cHorizontal,8).cursor("pointer").onClick((()=>{l(`settings/${e.id}`)}))))).padding().background("#F7F8F9").allWidth(240).margin("0 8px"),(0,t.UIRouteOutlet)().width("100%").height("100%"))}}const O=[{key:"isVersionManagementActive",title:"Version",description:"Is version management active"},{key:"isVersionManagementActive",title:"Document Metadata",description:"Is version management active"},{key:"isVersionManagementActive",title:"Security",description:"Is version management active"},{key:"isVersionManagementActive",title:"E-mail",description:"Is version management active"},{key:"isVersionManagementActive",title:"History",description:"Is version management active"}];class z extends t.UIFormController{LoadView(){return(0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Features").fontSize(24).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cTopLeading})(...(0,t.ForEach)(O)((e=>(0,t.VStack)({alignment:t.cTop})((0,t.VStack)().background("#7f77f1").cornerRadius("4px 4px 0 0").height(4),(0,t.HStack)((0,t.UIImage)("/images/version.png").maxWidth("100%").maxHeight("100%")).width(268).height(180),(0,t.Text)(e.title).fontSize(17).fontWeight("500").lineHeight(24).foregroundColor("#505050").marginBottom("12px").padding("0 15px").transition("all .2s cubic-bezier(.785,.135,.15,.86) 0s"),(0,t.Text)(e.description).lineHeight(18).fontSize(12).foregroundColor("rgb(42, 46, 52)")).background("rgb(247, 248, 249)").border("1px solid rgb(232, 234, 237)").padding("0 0 30px").margin("0 8px 30px").width(270).transition("all .2s cubic-bezier(.785,.135,.15,.86) 0s").allHeight(370).cornerRadius(4).shadow({hover:"0 4px 15px #0000001a"})))).wrap("wrap").padding("24px 48px")).padding("24px 48px")}}class B extends t.UIFormController{LoadView(){const{realm:n}=(0,e.useRealm)(),{applet:i}=(0,e.useApplet)(),r=n.$id,l=i.$id,{updateDocument:c}=(0,o.useUpdateDocument)(r);return(0,t.VStack)({alignment:t.cTopLeading})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("General").fontSize(24).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Applet").fontSize(20).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Name").fontSize(16).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().width(300),(0,t.HStack)((0,t.TextField)().value(null==i?void 0:i.name).border("0").outline({focus:"none"}).shadow("rgba(224, 227, 230, 0.7) 0px 0px 0px 1px").padding(12).cornerRadius(6)).height().width(400)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Icon").fontSize(16).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().width(300),(0,t.HStack)((0,t.UIWidget)("com.tuvalsoft.widget.icons").config({onChange:e=>{c({databaseId:"workspace",collectionId:"applets",documentId:l,data:{iconName:e.iconName,iconCategory:e.iconCategory}},(()=>{c({databaseId:"workspace",collectionId:"ws_tree",documentId:l,data:{iconName:e.iconName,iconCategory:e.iconCategory}},(()=>{a.EventBus.Default.fire("applet.added",{treeItem:e})}))}))},selectedIcon:null==i?void 0:i.iconName,color:null==i?void 0:i.themeColor,selectedCategory:null==i?void 0:i.iconCategory,width:32,height:32})).border("1px dashed rgba(69,104,251,.3)").transition("border-color .12s ease-in-out").cornerRadius(6).padding(4).width(44).height(44).cornerRadius(5)).height().margin("0 0 30px"),(0,t.HStack)({alignment:t.cLeading,spacing:10})((0,t.HStack)({alignment:t.cLeading})((0,t.Text)("Theme Color").fontSize(16).fontWeight("600").foregroundColor("rgb(42, 46, 52)").lineHeight(32)).height().width(300)).height().margin("0 0 30px")).padding("24px 48px")}}class _ extends t.UIController{routeView(){return(0,t.UIViewBuilder)((()=>(0,t.VStack)((0,t.UIRoutes)((0,t.UIRoute)("/",s).children((0,t.UIRoute)("f/:folderId",class extends U{}),(0,t.UIRoute)("d/:documentId",window.location.hash?T:class extends T{}),(0,t.UIRoute)("whiteboard/:whiteboardId",class extends V{}),(0,t.UIRoute)(":view_id",v),(0,t.UIRoute)(":view_id/*",v)),(0,t.UIRoute)("/settings",Z).children((0,t.UIRoute)("features",z),(0,t.UIRoute)("general",B)))).background("var(--primary-background-color)")))}LoadView(){return this.routeView()}}const R=n(906);let W=class{GetMainController(){return{applet:_,tree:d,documentView:T}}};W=function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([function(e){return t=>{null==tuval$core.__APPS__&&(tuval$core.__APPS__={}),tuval$core.__APPS__[e.application.name]=t}}(R)],W),e.FormBuilder.injectAction(c),e.FormBuilder.injectAction(r)})()})();
//# sourceMappingURL=index.js.map
                    tuval$core.ModuleLoader.FireModuleLoadedEvent('com.celmino.applet.document-management', tuval$core['__APPS__']['com.celmino.applet.document-management']);
                    