{"version":3,"file":"index.js","mappings":"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","sources":["webpack://tuval-core/./src/ModuleController.tsx","webpack://tuval-core/./src/manifest.js","webpack://tuval-core/external var \"realmocean$sdk\"","webpack://tuval-core/external var \"tuval$core\"","webpack://tuval-core/external var \"tuval$forms\"","webpack://tuval-core/external var \"tuval$react\"","webpack://tuval-core/webpack/bootstrap","webpack://tuval-core/webpack/runtime/compat get default export","webpack://tuval-core/webpack/runtime/define property getters","webpack://tuval-core/webpack/runtime/hasOwnProperty shorthand","webpack://tuval-core/webpack/runtime/make namespace object","webpack://tuval-core/./src/Application.ts"],"sourcesContent":["import {\n    HStack,\n    MenuButton,\n    SvgIcon,\n    Text, TextField, UIController, UIView, UIViewBuilder, cLeading, cVertical, useNavigate, useState\n} from '@tuval/forms';\n\nimport { Query, useGetDocument, useListDocuments, useUpdateDocument } from '@realmocean/sdk';\nimport { EventBus, is } from '@tuval/core';\nimport React from 'react';\n\nexport const EditIcon = () => (\n    <svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M6.5 10a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm3.5 1.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\"></path></svg>\n)\n\nexport class WorkspaceTreeWidgetController extends UIController {\n\n    public override LoadView(): UIView {\n\n        const { workspaceId, appletId, onItemSelected, item } = this.props.config || {};\n        // const { document: applet, isLoading: isAppletLoading } = useGetDocument({ projectId: workspaceId, databaseId: 'workspace', collectionId: 'applets', documentId: appletId })\n        const [isEditing, setIsEditing] = useState(false);\n        const [title, setTitle] = useState(item?.name);\n        const { updateDocument } = useUpdateDocument(workspaceId);\n\n        const navigate = useNavigate();\n\n        return (\n            HStack({ alignment: cLeading, spacing: 2 })(\n                // Title\n                (isEditing && is.string(item?.name)) ?\n                    HStack({ alignment: cLeading })(\n                        TextField()\n                            .border('0')\n                            .fontSize(14)\n                            // .fontWeight('500')\n                            .marginLeft(-2)\n                            .padding(cVertical, 3)\n                            .value(title)\n                            .onChange((value) => setTitle(value))\n                            .outline({ focus: 'none' })\n                            .onBlur(() => {\n\n                                updateDocument({\n                                    databaseId: 'workspace',\n                                    collectionId: 'applets',\n                                    documentId: item.$id,\n                                    data: {\n                                        name: title\n                                    }\n                                }, () => {\n                                    updateDocument({\n                                        databaseId: 'workspace',\n                                        collectionId: 'ws_tree',\n                                        documentId: item.$id,\n                                        data: {\n                                            name: title\n                                        }\n                                    }, () => {\n                                        EventBus.Default.fire('applet.added', { treeItem: item })\n                                    })  \n                                })  \n                                \n                            })\n                    )\n                        .height()\n\n\n                        .onClickAway(() => {\n                            setTimeout(() => {\n                                setIsEditing(false);\n                            }, 100);\n                            //setIsEditing(false);\n                        })\n\n\n\n                    :\n                    HStack({ alignment: cLeading })(\n                        HStack({ alignment: cLeading })(\n                            Text(item?.name)\n                                .fontSize(14)\n                                .fontWeight('500')\n                                .foregroundColor('#222522')\n                        ),\n                        MenuButton()\n                            .model([\n                                {\n                                    title: 'Rename',\n                                    icon: SvgIcon('svg-sprite-global__edit', '#151719', '18px', '18px'),\n                                    onClick: () => setIsEditing(true)\n                                },\n                                {\n                                    title: 'Applet settings',\n                                    icon: SvgIcon('svg-sprite-global__settings', '#151719', '18px', '18px'),\n                                    //onClick: () => navigate(`/app/workspace/${workspaceId}/applet/${appletId}/settings`)\n                                }\n                            ])\n                            .icon(EditIcon)\n                    )\n                        .height(30)\n                        //.marginVertical(5)\n                        //  .padding()\n                        // .background('#E4EAE2')\n                        .cornerRadius(5)\n                //.clipPath('polygon(95% 0, 100% 50%, 95% 100%, 0 100%, 0 50%, 0 0)')\n            )\n            .onClick(()=> {\n                navigate(`/app/workspace/${workspaceId}/applet/${appletId}`);\n            })\n        )\n    }\n}\n","module.exports = {\n    application: {\n        name: 'com.celmino.widget.applet-category',\n        path: './src/Application.ts',\n        displayName: \"Procetra\",\n        icon: \"data:image/svg+xml;base64,PHN2ZyBpZD0iZjc4ZjUxMTUtYmU4OC00ZDQ0LWIzNGUtM2Y2ZWE3NDMxMjVjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImI2YzQzYmQ5LWUzN2YtNDE5MS05M2MyLWQzYTdhODRjNTA1ZSIgeDE9IjkiIHkxPSIxOS4xMyIgeDI9IjkiIHkyPSItMC4yOSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAwNzhkNCIgLz48c3RvcCBvZmZzZXQ9IjAuMTYiIHN0b3AtY29sb3I9IiMxMzgwZGEiIC8+PHN0b3Agb2Zmc2V0PSIwLjUzIiBzdG9wLWNvbG9yPSIjM2M5MWU1IiAvPjxzdG9wIG9mZnNldD0iMC44MiIgc3RvcC1jb2xvcj0iIzU1OWNlYyIgLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1ZWEwZWYiIC8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHRpdGxlPkljb24tbWFjaGluZWxlYXJuaW5nLTE2MjwvdGl0bGU+PHBhdGggZD0iTTE4LDExLjM4QTQsNCwwLDAsMCwxNC40OSw3LjUsNS4xLDUuMSwwLDAsMCw5LjI0LDIuNjIsNS4yNSw1LjI1LDAsMCwwLDQuMjIsNiw0LjgsNC44LDAsMCwwLDAsMTAuNjdhNC45LDQuOSwwLDAsMCw1LjA3LDQuNzFsLjQ0LDBoOC4yMWEuNzguNzgsMCwwLDAsLjIyLDBBNC4xLDQuMSwwLDAsMCwxOCwxMS4zOFoiIGZpbGw9InVybCgjYjZjNDNiZDktZTM3Zi00MTkxLTkzYzItZDNhN2E4NGM1MDVlKSIgLz48cGF0aCBkPSJNNS40MiwxMC4zOUg0LjU0YTEuMDksMS4wOSwwLDEsMCwwLC40OWguODhhLjIuMiwwLDAsMSwuMi4ydjQuM2guNDl2LTQuM0EuNjkuNjksMCwwLDAsNS40MiwxMC4zOVptLTEuOTUuODhhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDMuNDcsMTEuMjdaIiBmaWxsPSIjOWNlYmZmIiAvPjxwYXRoIGQ9Ik04Ljk0LDEwLjYxdi0xYS43LjcsMCwwLDAtLjctLjdINi42OWEuMi4yLDAsMCwxLS4yLS4yVjMuNGwtLjIzLjEyTDYsMy42NnY1YS42OS42OSwwLDAsMCwuNjkuNjlIOC4yNGEuMjEuMjEsMCwwLDEsLjIxLjIxdjFhMS4wOCwxLjA4LDAsMCwwLS44NSwxLjA2LDEuMDksMS4wOSwwLDEsMCwxLjM0LTEuMDZabS0uMjUsMS43aDBhLjY0LjY0LDAsMSwxLC42NC0uNjRBLjY0LjY0LDAsMCwxLDguNjksMTIuMzFaIiBmaWxsPSIjZjJmMmYyIiAvPjxwYXRoIGQ9Ik0xNC41Myw4LjVhMS4wOSwxLjA5LDAsMCwwLS4yNSwyLjE1di4yYS4yMS4yMSwwLDAsMS0uMjEuMjFoLTJWNy41NGEuNjkuNjksMCwwLDAtLjY5LS42OUgxMC4zNUExLjA4LDEuMDgsMCwwLDAsOS4yOSw2YTEuMDksMS4wOSwwLDEsMCwxLjA2LDEuMzRoMS4wN2EuMi4yLDAsMCwxLC4yLjJ2Ny44NGguNDlWMTEuNTVoMmEuNy43LDAsMCwwLC43LS43di0uMmExLjA5LDEuMDksMCwwLDAsLjg1LTEuMDZoMEExLjA5LDEuMDksMCwwLDAsMTQuNTMsOC41Wk05LjI5LDcuNzNoMGEuNjQuNjQsMCwxLDEsLjY0LS42NEEuNjQuNjQsMCwwLDEsOS4yOSw3LjczWm01LjI0LDIuNWgwYS42NC42NCwwLDEsMSwuNjMtLjY0QS42NC42NCwwLDAsMSwxNC41MywxMC4yM1oiIGZpbGw9IiM5Y2ViZmYiIC8+PC9zdmc+\"\n\n    }\n    /* threads: {\n        'PMThreadWorker': 'ThreadWorker.ts'\n    } */\n}","module.exports = realmocean$sdk;","module.exports = tuval$core;","module.exports = tuval$forms;","module.exports = tuval$react;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {  UIController } from '@tuval/forms';\nimport { WorkspaceTreeWidgetController } from './ModuleController';\nimport { FormBuilder } from '@realmocean/ui';\n\n\nconst manifest = require('./manifest');\n\ndeclare var tuval$core;\n\nfunction App(manifest: any) {\n    return <T extends { new(...args: any[]): {} }>(constructor: T) => {\n        if (tuval$core['__APPS__'] == null) {\n            tuval$core['__APPS__'] = {};\n        }\n        tuval$core['__APPS__'][manifest.application.name] = constructor;\n    }\n}\n\n@App(manifest)\nexport class RatingWidget {\n    public GetMainController() {\n       return WorkspaceTreeWidgetController;\n    }\n}\n\n\n\n\n\n\n\n"],"names":[],"sourceRoot":""}